"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["3825"],{1830(e,s,t){t.r(s),t.d(s,{metadata:()=>n,default:()=>h,frontMatter:()=>a,contentTitle:()=>d,toc:()=>o,assets:()=>l});var n=JSON.parse('{"id":"cloud/tuya-cloud/ai-agent/database","title":"Database","description":"The database functionality is a structured data management module provided by the Tuya Developer Platform for\xa0agents. It enables agents to perform\xa0data storage, retrieval, update, and deletion operations\xa0during runtime via natural language or system logic.","source":"@site/docs/cloud/tuya-cloud/ai-agent/11-database.md","sourceDirName":"cloud/tuya-cloud/ai-agent","slug":"/cloud/tuya-cloud/ai-agent/database","permalink":"/docs/cloud/tuya-cloud/ai-agent/database","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/cloud/tuya-cloud/ai-agent/11-database.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"title":"Database"},"sidebar":"docs","previous":{"title":"Add Custom Voice","permalink":"/docs/cloud/tuya-cloud/ai-agent/10.1-add-custom-voice"},"next":{"title":"Agent Trigger","permalink":"/docs/cloud/tuya-cloud/ai-agent/agent-trigger-index"}}'),r=t(4848),i=t(8453);let a={title:"Database"},d="Database",l={},o=[{value:"Single-user mode",id:"single-user-mode",level:3},{value:"Multi-user mode",id:"multi-user-mode",level:3},{value:"Developer mode",id:"developer-mode",level:3},{value:"Create database",id:"create-database",level:3},{value:"Testing and debugging",id:"testing-and-debugging",level:3}];function c(e){let s={a:"a",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"database",children:(0,r.jsx)(s.strong,{children:"Database"})})}),"\n",(0,r.jsx)(s.h1,{id:"overview",children:(0,r.jsx)(s.strong,{children:"Overview"})}),"\n",(0,r.jsxs)(s.p,{children:["The database functionality is a structured data management module provided by the Tuya Developer Platform for\xa0",(0,r.jsx)(s.strong,{children:"agents"}),". It enables agents to perform\xa0",(0,r.jsx)(s.strong,{children:"data storage, retrieval, update, and deletion operations"}),"\xa0during runtime via natural language or system logic."]}),"\n",(0,r.jsx)(s.p,{children:"Using the database functionality, developers can quickly equip agents with the following capabilities:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Record user behavior and logs."}),"\n",(0,r.jsx)(s.li,{children:"Store personalized profiles and preferences."}),"\n",(0,r.jsx)(s.li,{children:"Manage data shared among multiple users."}),"\n",(0,r.jsx)(s.li,{children:"Construct business knowledge bases and backend data tables."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The platform provides three data modes to cater to different needs, ranging from personal interaction to collaborative sharing:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Single-user mode"}),": Each user has an independent data space."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Multi-user mode"}),": Users share or collaborate on the same dataset."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Developer mode"}),": Backend data is maintained by developers, while users can only query and use it."]}),"\n"]}),"\n",(0,r.jsx)(s.h1,{id:"database-modes",children:(0,r.jsx)(s.strong,{children:"Database modes"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Mode"}),(0,r.jsx)(s.th,{children:"Typical scenario"}),(0,r.jsx)(s.th,{children:"Data type &read/write logic"}),(0,r.jsx)(s.th,{children:"Example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Single-user mode"})}),(0,r.jsx)(s.td,{children:"Designed for personal data recording, companionship, and growth-oriented applications. Suitable for user-specific memories, learning logs, and health records."}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Data type"}),": User-private data."]}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Read/write logic"}),": Only the owner can create, modify, or delete data."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Isolation strategy"}),": Data is isolated by user ID, product ID (PID), and agent. Data does not interfere across users, agents, or PIDs."]}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"AI toy"}),": Records daily learning and growth events. For example, \u201CToday I learned to build with blocks.\u201D"]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"AI diary assistant"}),": Records moods, feelings, and daily plans."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Spending tracker"}),": Records spending such as \u201CSpent \xa535 on lunch today\u201D and generates statistics."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Multi-user mode"})}),(0,r.jsx)(s.td,{children:"Designed for sharing and interaction scenarios. Suitable for task boards, collaborative interactions, and social message boards."}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Data type"}),": Public or group-shared data."]}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Read/write logic"}),": Multiple users can write data."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Synchronization"}),": Real-time updates across multiple devices and users."]}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Bottled message"}),": All users share a message pool. They can randomly draw messages or submit new ones."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"AI task square"}),": Users record daily task completion and view rankings."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Class learning leaderboard"}),": Displays task completion rates and points for all members."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Developer mode"})}),(0,r.jsx)(s.td,{children:"Designed for backend knowledge management and centralized data maintenance. Suitable for product information, book Q&A, and FAQ systems."}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Data type"}),": Uniformly maintained by the developers."]}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Read/write logic"}),": Only developers can write or update data. Users can only query the data."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Permission control"}),": The agent has\xa0",(0,r.jsx)(s.strong,{children:"read-only"}),"\xa0permissions."]}),(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Product info agent"}),": Imports product parameters and descriptions at the backend. Users can query the product info via Q&A."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Library assistant"}),": Queries book authors, summaries, and status."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"Enterprise knowledge base"}),": Centrally maintains business knowledge and policy documents for user queries."]}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.h1,{id:"example",children:(0,r.jsx)(s.strong,{children:"Example"})}),"\n",(0,r.jsx)(s.p,{children:"The following section demonstrates typical applications of the three modes in real-world agent scenarios."}),"\n",(0,r.jsx)(s.h3,{id:"single-user-mode",children:"Single-user mode"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Example & description"}),(0,r.jsx)(s.th,{children:"Conversation example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"AI toy/growth tracker"}),":Creates"," an independent data table for each user to record daily learning and interactions."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CPlease note down that I learned to build with blocks today.\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CRecorded: Today\u2019s learning task - Building with blocks!\u201D"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"AI recorder/diary assistant"}),":Users"," record meetings, to-do lists, or mood logs via voice or text. Data is visible only to the user."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CNote the meeting key point: Submit the new document by Friday.\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CTask recorded: Submit the new document.\u201D"}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Sample interface of a\xa0",(0,r.jsx)(s.strong,{children:"diary card"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/1761285546328a68989a9.png",alt:"Database"})}),"\n",(0,r.jsx)(s.h3,{id:"multi-user-mode",children:"Multi-user mode"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Example & description"}),(0,r.jsx)(s.th,{children:"Conversation example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"AI task square"}),":Multiple"," users share a task data table. The system automatically calculates task completion rates and rankings."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CI finished reading two books today.\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CExcellent! Your task completion rate is 100% today, currently ranked 3rd.\u201D"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Bottled message/public bulletin board"}),":Users"," post messages to a public table, which can be randomly viewed or replied to by others."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CI want to leave a message for the next person: Stay happy.\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CMessage sent! Let\u2019s see who will receive it later.\u201D"}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"developer-mode",children:"Developer mode"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Example & description"}),(0,r.jsx)(s.th,{children:"Conversation example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Product Q&A agent"}),":Developers"," maintain product information (specifications, features, and FAQs) in the backend. The agent queries and returns results during conversations."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CDoes this light support Wi-Fi?\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CYes, it does! This product supports 2.4 GHz Wi-Fi connection.\u201D"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Library assistant"}),":Book"," information is maintained in the backend. Users retrieve it via natural language queries."]}),(0,r.jsx)(s.td,{children:"\u2022 User: \u201CCheck the author of \u2018Sapiens: A Brief History of Humankind\u2019.\u201D"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2022 Agent: \u201CThe author of \u2018Sapiens: A Brief History of Humankind\u2019 is Yuval Noah Harari.\u201D"}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Sample interface of a\xa0",(0,r.jsx)(s.strong,{children:"library AI assistant"}),":"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/17612856904e280cca174.png",alt:"Database"})}),"\n",(0,r.jsx)(s.h1,{id:"data-import-and-testing",children:(0,r.jsx)(s.strong,{children:"Data import and testing"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Item"}),(0,r.jsx)(s.th,{children:"Single-user mode"}),(0,r.jsx)(s.th,{children:"Multi-user mode"}),(0,r.jsx)(s.th,{children:"Developer mode"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Test data import"}),(0,r.jsx)(s.td,{children:"Not supported"}),(0,r.jsx)(s.td,{children:"Not supported"}),(0,r.jsx)(s.td,{children:"Supported"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Online data import"}),(0,r.jsx)(s.td,{children:"Not supported"}),(0,r.jsx)(s.td,{children:"Not supported"}),(0,r.jsx)(s.td,{children:"Supported"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Data import functionality is exclusively available in\xa0",(0,r.jsx)(s.strong,{children:"Developer Mode"}),"\xa0and must be performed by the project administrator."]}),"\n",(0,r.jsx)(s.h1,{id:"procedure",children:(0,r.jsx)(s.strong,{children:"Procedure"})}),"\n",(0,r.jsx)(s.h3,{id:"create-database",children:"Create database"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Go to the\xa0",(0,r.jsx)(s.a,{href:"https://platform.tuya.com/exp/ai",children:"My Agent"}),"\xa0page and click\xa0",(0,r.jsx)(s.strong,{children:"Develop"}),"\xa0in the\xa0",(0,r.jsx)(s.strong,{children:"Operation"}),"\xa0column of the desired agent."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/176128582435671f9fb0b.png",alt:"Database"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Under\xa0",(0,r.jsx)(s.strong,{children:"Model Configuration"}),"\xa0>\xa0",(0,r.jsx)(s.strong,{children:"Memory"}),", find\xa0",(0,r.jsx)(s.strong,{children:"Database"}),", then click the Add (",(0,r.jsx)(s.strong,{children:"+"}),") button on the right."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/1761285901976b679ca89.png",alt:"Database"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["On the\xa0",(0,r.jsx)(s.strong,{children:"Select Database"}),"\xa0page, click\xa0",(0,r.jsx)(s.strong,{children:"Add database"}),"\xa0in the top left corner, or bind an existing database from the list on the right."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/1761285981215c3e70578.png",alt:"Database"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Define the data table structure. Refer to the configuration guide below. Based on the agent\u2019s business type, define the table type, description, fields, and other relevant information."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/176128602759638e2b862.png",alt:"Database"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://www.notion.so/2d1f8da2b9f580fa825ae13254bd9f7d?pvs=21",children:"Untitled"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"The AI will intelligently infer the database structure based on the semantics you provide."}),"\n",(0,r.jsx)(s.li,{children:"More specific descriptions yield more precise structures, including field names, purposes, and data types."}),"\n",(0,r.jsx)(s.li,{children:"Supports multi-turn dialogue for fine-tuning field configurations. The system updates the structure definition in real-time."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["After completing the form, click\xa0",(0,r.jsx)(s.strong,{children:"Save"}),". The system will automatically initialize the table structure."]}),"\n",(0,r.jsxs)(s.p,{children:["If using\xa0",(0,r.jsx)(s.strong,{children:"Developer Mode"}),", you can click\xa0",(0,r.jsx)(s.strong,{children:"Import in bulk"}),"\xa0to import sample data for testing."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/1761286386b07fd408c68.png",alt:"Database"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"testing-and-debugging",children:"Testing and debugging"}),"\n",(0,r.jsxs)(s.p,{children:["Proceed to the\xa0",(0,r.jsx)(s.strong,{children:"Agent Debugging"}),"\xa0step. You can choose to debug by scanning a QR code or use online debugging to verify the conversation responses."]}),"\n",(0,r.jsx)(s.p,{children:"Key factors that primarily influence the agent\u2019s accuracy in correctly invoking the database include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Completeness of database and field descriptions: Clearer descriptions enable the AI to better understand the data\u2019s purpose and structure."}),"\n",(0,r.jsx)(s.li,{children:"Clarity of database usage rules in the agent prompt: Explicitly defining in the prompt which scenarios should trigger queries or writes, supplemented with relevant examples, helps the AI automatically select the correct database behavior."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:"https://images.tuyacn.com/content-platform/hestia/176128677075d94babcae.png",alt:"Database"})})]})}function h(e={}){let{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,s,t){t.d(s,{R:()=>a,x:()=>d});var n=t(6540);let r={},i=n.createContext(r);function a(e){let s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);