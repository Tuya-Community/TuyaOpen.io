"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["1213"],{6143(e,t,n){n.r(t),n.d(t,{metadata:()=>o,default:()=>h,frontMatter:()=>r,contentTitle:()=>a,toc:()=>c,assets:()=>s});var o=JSON.parse('{"id":"cloud/tuya-cloud/creating-new-product","title":"Create Product","description":"Set up environment and download SDK","source":"@site/docs/cloud/tuya-cloud/creating-new-product.md","sourceDirName":"cloud/tuya-cloud","slug":"/cloud/tuya-cloud/creating-new-product","permalink":"/docs/cloud/tuya-cloud/creating-new-product","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/cloud/tuya-cloud/creating-new-product.md","tags":[],"version":"current","frontMatter":{"title":"Create Product"},"sidebar":"docs","previous":{"title":"Create project","permalink":"/docs/new-hardware/new-project"},"next":{"title":"AI Agent Development","permalink":"/docs/cloud/tuya-cloud/ai-agent/index"}}'),d=n(4848),i=n(8453);let r={title:"Create Product"},a="Tuya IoT Cloud",s={},c=[{value:"Set up environment and download SDK",id:"set-up-environment-and-download-sdk",level:2},{value:"Create a product",id:"create-a-product",level:2},{value:"Add product functions",id:"add-product-functions",level:3},{value:"Add AI capabilities",id:"add-ai-capabilities",level:3},{value:"Add a plugin",id:"add-a-plugin",level:4},{value:"Develop a prompt",id:"develop-a-prompt",level:4},{value:"Add custom firmware",id:"add-custom-firmware",level:3},{value:"Configure AI control commands",id:"configure-ai-control-commands",level:2},{value:"Implement product functions",id:"implement-product-functions",level:2},{value:"Authorize the development board",id:"authorize-the-development-board",level:2},{value:"Method 1: Authorize by code",id:"method-1-authorize-by-code",level:3},{value:"Method 2: Authorize by tool",id:"method-2-authorize-by-tool",level:3},{value:"Compile and flash",id:"compile-and-flash",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Flashing always failed during the write phase. How can I resolve this?",id:"flashing-always-failed-during-the-write-phase-how-can-i-resolve-this",level:3}];function l(e){let t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.header,{children:(0,d.jsx)(t.h1,{id:"tuya-iot-cloud",children:"Tuya IoT Cloud"})}),"\n",(0,d.jsx)(t.h2,{id:"set-up-environment-and-download-sdk",children:"Set up environment and download SDK"}),"\n",(0,d.jsxs)(t.p,{children:["First, set up a development environment and download the TuyaOpen SDK. For more information, visit the ",(0,d.jsx)(t.a,{href:"https://tuyaopen.ai/docs/about-tuyaopen",children:"TuyaOpen documentation center"}),"."]}),"\n",(0,d.jsx)(t.h2,{id:"create-a-product",children:"Create a product"}),"\n",(0,d.jsxs)(t.p,{children:["Log in to the ",(0,d.jsx)(t.strong,{children:"Tuya Developer Platform"})," and navigate to the ",(0,d.jsx)(t.a,{href:"https://platform.tuya.com/pmg/list",children:"AI Product > Development"})," page. Click ",(0,d.jsx)(t.strong,{children:"Create"}),", select the appropriate category based on your product type, and then refer to the ",(0,d.jsx)(t.a,{href:"https://developer.tuya.com/en/docs/iot/create-product?id=K914jp1ijtsfe",children:"Create Product"})," guide to complete product creation."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/1757320259ee8123626b5.png",alt:"Create product"})}),"\n",(0,d.jsx)(t.p,{children:"During the product development process, focus on how to add product functions, add AI capabilities, and configure new firmware as described below."}),"\n",(0,d.jsx)(t.h3,{id:"add-product-functions",children:"Add product functions"}),"\n",(0,d.jsxs)(t.p,{children:["In the ",(0,d.jsx)(t.strong,{children:"Function Definition"})," tab, find ",(0,d.jsx)(t.strong,{children:"Product Functions"}),", click ",(0,d.jsx)(t.strong,{children:"Add"})," to add standard and custom functions to the product, or enable advanced functions."]}),"\n",(0,d.jsxs)(t.p,{children:["For more information, see ",(0,d.jsx)(t.a,{href:"https://developer.tuya.com/en/docs/iot/define-product-features?id=K97vug7wgxpoq",children:"Product Functions"}),"."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/17573218285953b9bc340.png",alt:"Add functions"})}),"\n",(0,d.jsx)(t.h3,{id:"add-ai-capabilities",children:"Add AI capabilities"}),"\n",(0,d.jsxs)(t.p,{children:["In the ",(0,d.jsx)(t.strong,{children:"Function Definition"})," tab, find ",(0,d.jsx)(t.strong,{children:"Product AI Capabilities"})," and click ",(0,d.jsx)(t.strong,{children:"Add Agent"})," to add AI capabilities."]}),"\n",(0,d.jsxs)(t.p,{children:["For more information about how to develop an agent, see ",(0,d.jsx)(t.a,{href:"https://developer.tuya.com/en/docs/iot/AI-feature?id=Keapy1et1fc63",children:"AI Capabilities Development"}),". Among them, focus on the following configurations:"]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/1757320405d1df1428baa.png",alt:"Add agent"})}),"\n",(0,d.jsx)(t.h4,{id:"add-a-plugin",children:"Add a plugin"}),"\n",(0,d.jsxs)(t.ol,{children:["\n",(0,d.jsxs)(t.li,{children:["\n",(0,d.jsxs)(t.p,{children:["In ",(0,d.jsx)(t.strong,{children:"01 Model Configuration"})," > ",(0,d.jsx)(t.strong,{children:"Skills Configuration"}),", select ",(0,d.jsx)(t.strong,{children:"Plugin"})," and click the ",(0,d.jsx)(t.strong,{children:"+"})," button on the right to enter the ",(0,d.jsx)(t.strong,{children:"Add Tool"})," page."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/1757320476afd9b9187e0.png",alt:"Add tool"})}),"\n"]}),"\n",(0,d.jsxs)(t.li,{children:["\n",(0,d.jsxs)(t.p,{children:["In the ",(0,d.jsx)(t.strong,{children:"Device control"})," tab, click ",(0,d.jsx)(t.strong,{children:"Device Control \xb7 Bound Only"}),", find ",(0,d.jsx)(t.strong,{children:"Control the device itself"}),", and then click ",(0,d.jsx)(t.strong,{children:"Add"}),"."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/1757320567346a0cffce4.png",alt:"Device control"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(t.h4,{id:"develop-a-prompt",children:"Develop a prompt"}),"\n",(0,d.jsxs)(t.p,{children:["In the tab ",(0,d.jsx)(t.strong,{children:"02 Prompt Development"}),", develop your prompt based on the ",(0,d.jsx)(t.a,{href:"https://www.tuyaos.com/viewtopic.php?t=3725",children:"Prompt Guide"}),"."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/1757321381a528942f97c.png",alt:"Develop a prompt"})}),"\n",(0,d.jsx)(t.h3,{id:"add-custom-firmware",children:"Add custom firmware"}),"\n",(0,d.jsx)(t.p,{children:"To support subsequent OTA updates and bulk module ordering, you need to create a custom firmware."}),"\n",(0,d.jsxs)(t.p,{children:["In the step of ",(0,d.jsx)(t.strong,{children:"Hardware Development"}),", set the ",(0,d.jsx)(t.strong,{children:"Cloud Access Mode"})," to ",(0,d.jsx)(t.strong,{children:"TuyaOS AI"}),", select a T5 module as the ",(0,d.jsx)(t.strong,{children:"Cloud Access Hardware"}),", click ",(0,d.jsx)(t.strong,{children:"Add Custom Firmware"}),", and then complete the relevant configurations."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/17573208516655d5cc41f.png",alt:"Add firmware"})}),"\n",(0,d.jsx)(t.h2,{id:"configure-ai-control-commands",children:"Configure AI control commands"}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsx)(t.p,{children:"Product functions added during the product development process are also known as data points (DPs), and standard functions refer to DPs with IDs less than 100. If all functions added are standard functions, the self-control commands are configured by default, and this step can be skipped. However, if you have added custom functions, you need to complete this step to modify the command solution."})}),"\n",(0,d.jsxs)(t.p,{children:["Go to the ",(0,d.jsx)(t.a,{href:"https://platform.tuya.com/exp/voice/ai",children:(0,d.jsx)(t.strong,{children:"AI \u200B\u200BProduct Command"})})," page, find the ",(0,d.jsx)(t.strong,{children:"Self-control command"}),", and then click ",(0,d.jsx)(t.strong,{children:"Modify command solution"}),". Complete the configurations by referring to ",(0,d.jsx)(t.a,{href:"https://developer.tuya.com/en/docs/iot/Self-control?id=Kep3yhifdrvah",children:"Self-control Commands"}),"."]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/17573209519b80058e8dd.png",alt:"AI \u200B\u200Bproduct command"})}),"\n",(0,d.jsx)(t.h2,{id:"implement-product-functions",children:"Implement product functions"}),"\n",(0,d.jsxs)(t.p,{children:["A data point (DP) is a data model defined by Tuya to describe the functions of a product. To enable scalable and digital management of massive and diverse devices, an abstract language is required to describe these devices. For more information, see ",(0,d.jsx)(t.a,{href:"https://developer.tuya.com/en/docs/iot-device-dev/TuyaOS-iot_abi_dp_ctrl?id=Kcoglhn5r7ajr",children:"DP Model and Control Protocol"}),"."]}),"\n",(0,d.jsxs)(t.p,{children:["Taking the ",(0,d.jsx)(t.code,{children:"your_chat_bot"})," demo in TuyaOpen as an example, when the app or AI agent sends a control command, the ",(0,d.jsx)(t.code,{children:"user_event_handler_on"})," interface is triggered. Among these, object types (including boolean, value, enum, bitmap, and string) enter the ",(0,d.jsx)(t.code,{children:"TUYA_EVENT_DP_RECEIVE_OBJ"})," branch, while raw types enter the ",(0,d.jsx)(t.code,{children:"TUYA_EVENT_DP_RECEIVE_RAW"})," branch."]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-c",children:'void user_event_handler_on(tuya_iot_client_t *client, tuya_event_msg_t *event)\n{\n    PR_DEBUG("Tuya Event ID:%d(%s)", event->id, EVENT_ID2STR(event->id));\n    PR_INFO("Device Free heap %d", tal_system_get_free_heap_size());\n\n    switch (event->id) {\n    /*\n    ******Omit the intermediate process here******\n    */\n        /* RECV OBJ DP */\n    case TUYA_EVENT_DP_RECEIVE_OBJ: {\n        dp_obj_recv_t *dpobj = event->value.dpobj;\n        PR_DEBUG("SOC Rev DP Cmd t1:%d t2:%d CNT:%u", dpobj->cmd_tp, dpobj->dtt_tp, dpobj->dpscnt);\n        if (dpobj->devid != NULL) {\n            PR_DEBUG("devid.%s", dpobj->devid);\n        }\n\n        audio_dp_obj_proc(dpobj);\n\n        tuya_iot_dp_obj_report(client, dpobj->devid, dpobj->dps, dpobj->dpscnt, 0);\n\n    } break;\n\n    /* RECV RAW DP */\n    case TUYA_EVENT_DP_RECEIVE_RAW: {\n        dp_raw_recv_t *dpraw = event->value.dpraw;\n        PR_DEBUG("SOC Rev DP Cmd t1:%d t2:%d", dpraw->cmd_tp, dpraw->dtt_tp);\n        if (dpraw->devid != NULL) {\n            PR_DEBUG("devid.%s", dpraw->devid);\n        }\n\n        uint32_t index = 0;\n        dp_raw_t *dp = &dpraw->dp;\n        PR_DEBUG("dpid:%d type:RAW len:%d data:", dp->id, dp->len);\n        for (index = 0; index < dp->len; index++) {\n            PR_DEBUG_RAW("%02x", dp->data[index]);\n        }\n\n        tuya_iot_dp_raw_report(client, dpraw->devid, &dpraw->dp, 3);\n\n    } break;\n\n    default:\n        break;\n    }\n}\n\n'})}),"\n",(0,d.jsx)(t.h2,{id:"authorize-the-development-board",children:"Authorize the development board"}),"\n",(0,d.jsx)(t.h3,{id:"method-1-authorize-by-code",children:"Method 1: Authorize by code"}),"\n",(0,d.jsxs)(t.p,{children:["Modify the header file. For detailed steps, refer to ",(0,d.jsx)(t.a,{href:"https://tuyaopen.ai/docs/quick-start/equipment-authorization",children:"Authorize Devices"}),"."]}),"\n",(0,d.jsxs)(t.p,{children:["For example, open the ",(0,d.jsx)(t.code,{children:"your_chat_bot"})," project, locate the ",(0,d.jsx)(t.code,{children:"tuya_config.h"})," file at the following path: ",(0,d.jsx)(t.code,{children:"apps/tuya.ai/your_chat_bot/include/tuya_config.h"}),", and modify the following three parameters:"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"TUYA_PRODUCT_ID"}),": The product ID (PID) generated during product creation."]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"TUYA_OPENSDK_UUID"}),": The UUID can be obtained free of charge. Please contact Tuya support to receive it."]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"TUYA_OPENSDK_AUTHKEY"}),": The AuthKey can be obtained free of charge. Please contact Tuya support to receive it."]}),"\n"]}),"\n",(0,d.jsx)(t.p,{children:(0,d.jsx)(t.img,{src:"https://images.tuyacn.com/content-platform/hestia/17573217004faaa23cc52.png",alt:"Get PID"})}),"\n",(0,d.jsx)(t.p,{children:"Example:"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{children:'#ifndef TUYA_PRODUCT_ID\n#define TUYA_PRODUCT_ID "p320pepzvmm1ghse"//PID\n#endif\n\n#define TUYA_OPENSDK_UUID    "uuidxxxxxxxxxxxxxxxx"             // Please change to the correct UUID.\n#define TUYA_OPENSDK_AUTHKEY "keyxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" // Please change to the correct authkey.\n\n'})}),"\n",(0,d.jsx)(t.h3,{id:"method-2-authorize-by-tool",children:"Method 2: Authorize by tool"}),"\n",(0,d.jsxs)(t.p,{children:["In ",(0,d.jsx)(t.strong,{children:"Tuya Uart Tool"}),", select the serial port and ",(0,d.jsx)(t.strong,{children:"BaudRate"})," for flashing, click ",(0,d.jsx)(t.strong,{children:"Start"})," to enable the serial port, and then click ",(0,d.jsx)(t.strong,{children:"Authorize"}),"."]}),"\n",(0,d.jsx)("img",{alt:"Tool",src:"https://images.tuyacn.com/content-platform/hestia/1757310278591d8030b54.png",width:"500"}),"\n",(0,d.jsx)(t.h2,{id:"compile-and-flash",children:"Compile and flash"}),"\n",(0,d.jsx)(t.p,{children:"Enter the following command in the terminal."}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{children:"tos.py build && tos.py flash\n"})}),"\n",(0,d.jsx)("img",{alt:"Example",src:"https://images.tuyacn.com/content-platform/hestia/17557741754d231019d50.png",width:"500"}),"\n",(0,d.jsx)(t.p,{children:"The T5AI-Board development board is configured with two serial ports: one for flashing and the other for log output. If flashing failed, switch to another port number and try again."}),"\n",(0,d.jsx)(t.h2,{id:"faqs",children:"FAQs"}),"\n",(0,d.jsx)(t.h3,{id:"flashing-always-failed-during-the-write-phase-how-can-i-resolve-this",children:"Flashing always failed during the write phase. How can I resolve this?"}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.a,{href:"https://tuyaopen.ai/docs/tos-tools/tools-tyutool",children:"Install the driver"})," to try to resolve this issue."]})]})}function h(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>a});var o=n(6540);let d={},i=o.createContext(d);function r(e){let t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);