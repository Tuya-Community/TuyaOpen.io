"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["3521"],{8595(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>o,contentTitle:()=>l,toc:()=>d,assets:()=>c});var i=JSON.parse('{"id":"cloud/tuya-cloud/ai-agent/agent-trigger-index","title":"Agent Trigger","description":"When devices meet specific event conditions, agent triggers can\xa0automatically invoke agents to execute tasks, such as user notifications, device control, and cross-system automation.","source":"@site/docs/cloud/tuya-cloud/ai-agent/12-agent-trigger-index.md","sourceDirName":"cloud/tuya-cloud/ai-agent","slug":"/cloud/tuya-cloud/ai-agent/agent-trigger-index","permalink":"/docs/cloud/tuya-cloud/ai-agent/agent-trigger-index","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/cloud/tuya-cloud/ai-agent/12-agent-trigger-index.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"title":"Agent Trigger"},"sidebar":"docs","previous":{"title":"Database","permalink":"/docs/cloud/tuya-cloud/ai-agent/database"},"next":{"title":"How to Write Prompts","permalink":"/docs/cloud/tuya-cloud/ai-agent/12.1-how-to-write-promts"}}'),r=t(4848),s=t(8453);let o={title:"Agent Trigger"},l="Agent Trigger",c={},d=[{value:"Preconditions",id:"preconditions",level:3},{value:"Process overview",id:"process-overview",level:3}];function a(e){let n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"agent-trigger",children:(0,r.jsx)(n.strong,{children:"Agent Trigger"})})}),"\n",(0,r.jsx)(n.h1,{id:"overview",children:(0,r.jsx)(n.strong,{children:"Overview"})}),"\n",(0,r.jsxs)(n.p,{children:["When devices meet specific event conditions, agent triggers can\xa0",(0,r.jsx)(n.strong,{children:"automatically invoke agents to execute tasks"}),", such as user notifications, device control, and cross-system automation."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Typical scenarios"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Power management"}),": Automatically alert when the device battery is critically low to reinforce charging awareness."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environmental monitoring"}),": Notify users to adjust the air conditioner or dehumidifier based on real-time temperature and humidity data."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Anomaly alerts"}),": Immediately inform users of device failures and operational exceptions."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Differences from push notifications"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexible rules"}),": Events are configured by you with granular data point (DP) condition matching."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplified setup"}),": One-click binding with existing events eliminates redundant configuration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Smart response"}),": Automatically generate AI dialogues using prompt templates."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Natural user experience"}),": Role-aware interactions deliver humanized, personalized expressions."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"preconditions",children:"Preconditions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Device requirements"}),": Use\xa0",(0,r.jsx)(n.a,{href:"https://developer.tuya.com/en/docs/iot-device-dev/wukongai_version_release?id=Kegae21edhfyb",children:"Wukong SDK v3.12.14 or later"}),"\xa0to develop device firmware."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Platform configuration"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The agent has been configured with triggers, and the event rules for the products have been enabled."}),"\n",(0,r.jsxs)(n.li,{children:["The product has been linked with an agent. For more information, see\xa0",(0,r.jsx)(n.a,{href:"https://developer.tuya.com/en/docs/iot/AI-feature?id=Keapy1et1fc63",children:"AI Capabilities Development"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"process-overview",children:"Process overview"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://developer.tuya.com/en/docs/iot/agent_trigger?id=Keoimoadosdoi#DP",children:"Create device rule events"}),": Configure device events based on DP conditions, such as low battery rules, excessive noise rules, and high temperature rules."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://developer.tuya.com/en/docs/iot/agent_trigger?id=Keoimoadosdoi#Trigger",children:"Configure agent triggers"}),": Link triggers with existing events and set task execution logic. For example, send prompts."]}),"\n",(0,r.jsx)(n.li,{children:"When the device meets trigger conditions during operation, the trigger activates, and users receive smart notifications or action execution results."}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"create-device-rule-events",children:(0,r.jsx)(n.strong,{children:"Create device rule events"})}),"\n",(0,r.jsxs)(n.p,{children:["Follow the steps below to configure device events based on\xa0",(0,r.jsx)(n.strong,{children:"device PID"}),"\xa0and\xa0",(0,r.jsx)(n.strong,{children:"DP conditions"}),"."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Go to the\xa0",(0,r.jsx)(n.a,{href:"https://platform.tuya.com/",children:"Tuya Developer Platform"}),". In the left-side navigation bar, choose\xa0",(0,r.jsx)(n.strong,{children:"AI Agent"}),"\xa0>\xa0",(0,r.jsx)(n.strong,{children:"Agent Configuration"}),"\xa0>\xa0",(0,r.jsx)(n.strong,{children:"Device Event Management"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click\xa0",(0,r.jsx)(n.strong,{children:"Create"}),"\xa0in the top-right corner of the page. Currently, the\xa0",(0,r.jsx)(n.strong,{children:"device event trigger"}),"\xa0type is supported."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751617329bfabde58072.png",alt:"Agent Trigger"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Enter the device event name and select the PID of the target product. After selecting the PID, you can set the event trigger conditions based on the DPs of that PID. The rules will only apply to devices under the selected PID."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Define trigger conditions. Select\xa0",(0,r.jsx)(n.strong,{children:"Generic type trigger condition"}),"\xa0or\xa0",(0,r.jsx)(n.strong,{children:"Data point (DP) trigger condition"}),", and then add the DP condition rules."]}),"\n",(0,r.jsxs)(n.p,{children:["For example, set a low battery alert condition for an AI doll:\xa0",(0,r.jsx)(n.code,{children:"dp2 (Battery) < 20"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"dp3 (Charge Status) = none"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751618910f6bedff7ad9.png",alt:"Agent Trigger"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["(Optional) Set a trigger period. The\xa0",(0,r.jsx)(n.strong,{children:"Trigger Mode"}),"\xa0can be\xa0",(0,r.jsx)(n.strong,{children:"Level Triggering"}),"\xa0or\xa0",(0,r.jsx)(n.strong,{children:"Edge Triggering"}),". For example, you can configure the event to trigger only during a specific time period (such as\xa0",(0,r.jsx)(n.code,{children:"08:00 - 23:00"}),") to avoid disturbing users."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751619186f16dd57e370.png",alt:"Agent Trigger"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"After the configuration is complete, save and enable the event."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["After the configuration is saved, the default event status is\xa0",(0,r.jsx)(n.strong,{children:"Disabled"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Be sure to manually enable the event and link it with the trigger so that it can be triggered when the device is running."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751619282c5742d45d14.png",alt:"Agent Trigger"})}),"\n",(0,r.jsx)(n.p,{children:"After the event is enabled, it will appear as an option in the trigger configuration and can be selected for use."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"configure-the-agent-trigger",children:(0,r.jsx)(n.strong,{children:"Configure the agent trigger"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Go to\xa0",(0,r.jsx)(n.a,{href:"https://platform.tuya.com/exp/ai",children:"My Agent"}),", click\xa0",(0,r.jsx)(n.strong,{children:"Develop"}),"\xa0in the\xa0",(0,r.jsx)(n.strong,{children:"Operation"}),"\xa0column, and then find the\xa0",(0,r.jsx)(n.strong,{children:"Trigger"}),"\xa0under\xa0",(0,r.jsx)(n.strong,{children:"01 Model Configuration"}),"\xa0>\xa0",(0,r.jsx)(n.strong,{children:"Skills Configuration"}),". Click\xa0",(0,r.jsx)(n.strong,{children:"+"}),"\xa0to configure the trigger."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/17549057417c6f1e5d202.png",alt:"Agent Trigger"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add a trigger."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751619429cbbbca34c46.png",alt:"Agent Trigger"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trigger Name"}),": Enter the name of the specified trigger."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trigger Type"}),": Select the type as\xa0",(0,r.jsx)(n.strong,{children:"Device Event Trigger"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select\xa0",(0,r.jsx)(n.strong,{children:"Trigger Event"}),". Select a device event (such as\xa0",(0,r.jsx)(n.strong,{children:"Low Battery"}),") from your account."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If no events are available, click\xa0",(0,r.jsx)(n.strong,{children:"Event Configuration"}),"\xa0on the right to create a rule."]}),"\n",(0,r.jsx)(n.li,{children:"The event is disabled by default. You must enable it before triggering."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Define\xa0",(0,r.jsx)(n.strong,{children:"Task Execution"}),"\xa0logic. The default task is\xa0",(0,r.jsx)(n.strong,{children:"Agent Push Message"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Currently, only push messages are supported, but plugin or workflow tasks are unavailable."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Edit the prompt to be sent as content to the agent."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It is recommended to clearly specify the required response format and key elements based on your needs."}),"\n",(0,r.jsxs)(n.li,{children:["You can import dynamic variables, such as\xa0",(0,r.jsx)(n.code,{children:"{{sys.dp2}}"}),"\xa0to represent the current battery value."]}),"\n",(0,r.jsx)(n.li,{children:"The prompt content should be concise and clear, and used in combination with dynamic variables to enhance the users\u2019 personalized experience."}),"\n",(0,r.jsx)(n.li,{children:"In addition, you can customize the tone and expression style of the prompts based on device properties and usage context."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751620128e37c124eb57.png",alt:"Agent Trigger"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample prompts"})}),"\n",(0,r.jsxs)(n.p,{children:["For more information, see\xa0",(0,r.jsx)(n.a,{href:"https://developer.tuya.com/en/docs/iot/prompt_dec?id=Keoq4c2wfutjn",children:"How to Write a Prompt"}),"."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Trigger scenario"}),(0,r.jsx)(n.th,{children:"Sample prompt"}),(0,r.jsx)(n.th,{children:"Prompt template"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Low battery alert"}),(0,r.jsx)(n.td,{children:"I\u2019m running out of power, please charge me."}),(0,r.jsxs)(n.td,{children:["Your current battery level is\xa0",(0,r.jsx)(n.code,{children:"{{dp2}}%"}),". Please remind me (the user) in one sentence to charge your battery. No other irrelevant replies are allowed."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Overtemperature alert"}),(0,r.jsx)(n.td,{children:"It is too hot in the room. Can you turn on the air conditioner?"}),(0,r.jsxs)(n.td,{children:["The current room temperature is\xa0",(0,r.jsx)(n.code,{children:"{{dp4}}\xb0C"}),". Please say something to remind the owner to cool down the room. No other irrelevant replies are allowed."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Poor air quality"}),(0,r.jsx)(n.td,{children:"The air is so bad. Do you want to open a window?"}),(0,r.jsxs)(n.td,{children:["The current air quality is\xa0",(0,r.jsx)(n.code,{children:"{{dp5}}"}),". Please say something to remind the owner of ventilation. No other irrelevant replies are allowed."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Device offline notification"}),(0,r.jsx)(n.td,{children:"Device connection error. Please check your network."}),(0,r.jsx)(n.td,{children:"You are offline. Please generate a concise prompt to remind users to check the network. No other irrelevant replies are allowed."})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["After configuration is complete, click\xa0",(0,r.jsx)(n.strong,{children:"OK"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Test the execution results."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click the\xa0",(0,r.jsx)(n.strong,{children:"Execute"}),"\xa0button of the specified event."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751620205191373e1c64.png",alt:"Agent Trigger"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In the\xa0",(0,r.jsx)(n.strong,{children:"Simulate Trigger Test"}),"\xa0dialog box, enter the virtual device ID and use the virtual device panel to view the response effect. Alternatively, click\xa0",(0,r.jsx)(n.strong,{children:"Execute"}),"\xa0to view the AI\u2019s response."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://images.tuyacn.com/content-platform/hestia/1751620241fa6e1224f14.png",alt:"Agent Trigger"})}),"\n",(0,r.jsxs)(n.p,{children:["Currently, only\xa0",(0,r.jsx)(n.strong,{children:"virtual device testing"}),"\xa0is supported, and real device testing is not supported."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"coming-soon",children:(0,r.jsx)(n.strong,{children:"Coming soon"})}),"\n",(0,r.jsx)(n.p,{children:"The following extended functionalities will be progressively supported:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Execute workflows"}),"\n",(0,r.jsx)(n.li,{children:"Perform tasks via plugins and other methods"}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>l});var i=t(6540);let r={},s=i.createContext(r);function o(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);