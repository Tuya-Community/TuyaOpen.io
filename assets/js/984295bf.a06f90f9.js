"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["7345"],{8230(e,r,t){t.r(r),t.d(r,{metadata:()=>n,default:()=>o,frontMatter:()=>d,contentTitle:()=>a,toc:()=>h,assets:()=>l});var n=JSON.parse('{"id":"tkl-api/tkl_thread","title":"tkl_thread | Thread","description":"The file tkl_thread.c provides APIs for creating, terminating, and obtaining information about operating system threads (tasks) in a multi-tasking environment suitable for Tuya\'s smart devices. This file is automatically generated by the TuyaOS and includes designated areas for you to customize and implement related logic.","source":"@site/docs/tkl-api/tkl_thread.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_thread","permalink":"/docs/tkl-api/tkl_thread","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/tkl-api/tkl_thread.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_timer | Timer Driver","permalink":"/docs/tkl-api/tkl_timer"},"next":{"title":"tkl_wakeup | Wakeup Driver","permalink":"/docs/tkl-api/tkl_wakeup"}}'),i=t(4848),s=t(8453);let d={},a="tkl_thread | Thread",l={},h=[{value:"API description",id:"api-description",level:2},{value:"tkl_thread_create",id:"tkl_thread_create",level:3},{value:"tkl_thread_release",id:"tkl_thread_release",level:3},{value:"tkl_thread_get_watermark",id:"tkl_thread_get_watermark",level:3},{value:"tkl_thread_get_id",id:"tkl_thread_get_id",level:3},{value:"tkl_thread_set_self_name",id:"tkl_thread_set_self_name",level:3},{value:"tkl_thread_is_self",id:"tkl_thread_is_self",level:3},{value:"tkl_thread_get_priority",id:"tkl_thread_get_priority",level:3},{value:"tkl_thread_set_priority",id:"tkl_thread_set_priority",level:3},{value:"tkl_thread_diagnose",id:"tkl_thread_diagnose",level:3}];function c(e){let r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"tkl_thread--thread",children:"tkl_thread | Thread"})}),"\n",(0,i.jsxs)(r.p,{children:["The file ",(0,i.jsx)(r.code,{children:"tkl_thread.c"})," provides APIs for creating, terminating, and obtaining information about operating system threads (tasks) in a multi-tasking environment suitable for Tuya's smart devices. This file is automatically generated by the TuyaOS and includes designated areas for you to customize and implement related logic."]}),"\n",(0,i.jsx)(r.h2,{id:"api-description",children:"API description"}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_create",children:"tkl_thread_create"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_create(TKL_THREAD_HANDLE* thread,\n                              const char* name,\n                              uint32_t stack_size,\n                              uint32_t priority,\n                              const THREAD_FUNC_T func,\n                              void* const arg);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Creates a task thread."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Parameters:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"thread"}),": The output parameter used to return the handle of the created thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"name"}),": The name of the thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"stack_size"}),": The stack size of the thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"priority"}),": The priority of the thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"func"}),": The pointer to the function executed by the thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"arg"}),": The argument passed to the thread function."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_release",children:"tkl_thread_release"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_release(const TKL_THREAD_HANDLE thread);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Terminates a thread and releases its resources."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Parameter: ",(0,i.jsx)(r.code,{children:"thread"}),", the handle of the thread to be terminated."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_get_watermark",children:"tkl_thread_get_watermark"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_get_watermark(const TKL_THREAD_HANDLE thread, uint32_t* watermark);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Gets the highest watermark (minimum remaining stack space) of the thread stack."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Parameters:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"thread"}),": The handle to a thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"watermark"}),": The output parameter for the highest watermark value in bytes."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_get_id",children:"tkl_thread_get_id"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_get_id(TKL_THREAD_HANDLE *thread);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Gets the handle of the current thread."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Parameter: ",(0,i.jsx)(r.code,{children:"thread"}),", an output parameter for the current thread handle."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: Always returns ",(0,i.jsx)(r.code,{children:"OPRT_OK"}),", indicating a successful call."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_set_self_name",children:"tkl_thread_set_self_name"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_set_self_name(const char* name);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Sets the name of the current thread."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Parameter: ",(0,i.jsx)(r.code,{children:"name"}),", the new name for the thread."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_is_self",children:"tkl_thread_is_self"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_is_self(TKL_THREAD_HANDLE thread, BOOL_T* is_self);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Determines whether the specified thread is the current thread."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Parameters:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"thread"}),": The handle to a thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"is_self"}),": The output parameter indicating whether it is the current thread."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_get_priority",children:"tkl_thread_get_priority"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_get_priority(TKL_THREAD_HANDLE thread, int *priority);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Feature: Gets the priority of a thread."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Parameters:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"thread"}),": The handle to a thread. If the value is ",(0,i.jsx)(r.code,{children:"NULL"}),", get the priority of the current thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"priority"}),": The output parameter for returning the thread priority."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_set_priority",children:"tkl_thread_set_priority"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_set_priority(TKL_THREAD_HANDLE thread, int priority);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Feature: Sets the priority of a thread."}),"\n",(0,i.jsxs)(r.li,{children:["Parameters:","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"thread"}),": The handle to a thread. If the value is ",(0,i.jsx)(r.code,{children:"NULL"}),", set the priority of the current thread."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"priority"}),": The new priority of the thread."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tkl_thread_diagnose",children:"tkl_thread_diagnose"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-c",children:"OPERATE_RET tkl_thread_diagnose(TKL_THREAD_HANDLE thread);\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Feature: Diagnoses a thread, such as printing task stack information."}),"\n",(0,i.jsxs)(r.li,{children:["Parameter: ",(0,i.jsx)(r.code,{children:"thread"}),", the handle of the thread."]}),"\n",(0,i.jsxs)(r.li,{children:["Return value: ",(0,i.jsx)(r.code,{children:"OPRT_OK"})," indicates a success. Any other value indicates an error. For detailed error codes, refer to ",(0,i.jsx)(r.code,{children:"tuya_error_code.h"}),"."]}),"\n"]})]})}function o(e={}){let{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,r,t){t.d(r,{R:()=>d,x:()=>a});var n=t(6540);let i={},s=n.createContext(i);function d(e){let r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);