<!doctype html><html lang=zh dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tos-tools/tos-guide" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>tos.py 使用指南 | TuyaOpen</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://tuyaopen.io/zh/img/home/tuyaopen-logo-social-preview.png /><meta data-rh=true name=twitter:image content=https://tuyaopen.io/zh/img/home/tuyaopen-logo-social-preview.png /><meta data-rh=true property=og:url content=https://tuyaopen.io/zh/docs/tos-tools/tos-guide /><meta data-rh=true property=og:locale content=zh /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true name=docusaurus_locale content=zh /><meta data-rh=true name=docsearch:language content=zh /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="tos.py 使用指南 | TuyaOpen"/><meta data-rh=true name=description content=概述 /><meta data-rh=true property=og:description content=概述 /><link data-rh=true rel=icon href=/zh/img/favicon.ico /><link data-rh=true rel=canonical href=https://tuyaopen.io/zh/docs/tos-tools/tos-guide /><link data-rh=true rel=alternate href=https://tuyaopen.io/docs/tos-tools/tos-guide hreflang=en /><link data-rh=true rel=alternate href=https://tuyaopen.io/zh/docs/tos-tools/tos-guide hreflang=zh /><link data-rh=true rel=alternate href=https://tuyaopen.io/docs/tos-tools/tos-guide hreflang=x-default /><link data-rh=true rel=preconnect href=https://NT1L7IWROF-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://tuyaopen.io/zh/docs/tos-tools/tos-guide","name":"tos.py 使用指南","position":1}]}</script><link rel=alternate type=application/rss+xml href=/zh/blog/rss.xml title="TuyaOpen RSS Feed"><link rel=alternate type=application/atom+xml href=/zh/blog/atom.xml title="TuyaOpen Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-3M0J54E8XF"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3M0J54E8XF",{})</script><link rel=search type=application/opensearchdescription+xml title=TuyaOpen href=/zh/opensearch.xml><link rel=preconnect href=https://www.clarity.ms><script>!function(t,e,n,c,r,s,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(s=e.createElement(c)).async=1,s.src="https://www.clarity.ms/tag/"+r,(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(s,a)}(window,document,"clarity","script","lggqck9srz")</script><meta name=algolia-site-verification content=6232065417750C16><link rel=stylesheet href=/zh/assets/css/styles.e0e3d7a9.css /><script src=/zh/assets/js/runtime~main.2b0de70c.js defer></script><script src=/zh/assets/js/main.c6ef6f3a.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div class=announcement-bar style=background-color:#0598ea;color:#ffffff><div class=announcement-content><span>🏆 加入TuyaOpen AI硬件大赛！100天打造未来AI爆款硬件</span><a class=announcement-link style=color:#ffffff href=/zh/blog/8-8-online-contest>了解更多 →</a><button class=announcement-close aria-label="[object Object]" style=color:#ffffff>×</button></div></div><div role=region aria-label=跳到主要内容><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><nav aria-label=主导航 class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/zh/><div class=navbar__logo><img src=/zh/img/home/tuyaopen-logo-simple-dark.png alt=TuyaOpen class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/zh/img/home/tuyaopen-logo-simple-light.png alt=TuyaOpen class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">TuyaOpen</b></a><a class="navbar__item navbar__link" href=/zh/docs/about-tuyaopen>文档</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>获取</a><ul class=dropdown__menu><li><a class=dropdown__link href=/zh/pricing>服务授权码</a><li><a class=dropdown__link href=/zh/get-hardware>获取硬件</a><li><a href=https://github.com/tuya/TuyaOpen target=_blank rel="noopener noreferrer" class=dropdown__link>获取代码<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><a class="navbar__item navbar__link" href=/zh/blog>博客</a><a class="navbar__item navbar__link" href=/zh/projects>项目</a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>工具</a><ul class=dropdown__menu><li><a class=dropdown__link href=/zh/tools/tyutool>涂鸦通用串口工具</a><li><a href=https://tuyaopen.ai/tools target=_blank rel="noopener noreferrer" class=dropdown__link>Web串口/烧录工具<svg width=12 height=12 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>简体中文</a><ul class=dropdown__menu><li><a href=/docs/tos-tools/tos-guide target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/zh/docs/tos-tools/tos-guide target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh>简体中文</a></ul></div><a href=https://github.com/tuya/TuyaOpen target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label=GitHub></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>搜索</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=回到顶部 class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/zh/><img src=/zh/img/home/tuyaopen-logo-simple-dark.png alt=TuyaOpen class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/zh/img/home/tuyaopen-logo-simple-light.png alt=TuyaOpen class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>TuyaOpen</b></a><nav aria-label=文档侧边栏 class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/zh/docs/about-tuyaopen><span title="关于 TuyaOpen" class=linkLabel_WmDU>关于 TuyaOpen</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/zh/docs/maintenance-and-releases><span title=技术Roadmap与发布 class=linkLabel_WmDU>技术Roadmap与发布</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/zh/docs/project-walkthrough><span title=目录结构 class=linkLabel_WmDU>目录结构</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/zh/docs/quick-start><span title=快速开始 class=categoryLinkLabel_W154>快速开始</span></a><button aria-label="折叠侧边栏分类 '快速开始'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/unboxing><span title=极速体验 class=linkLabel_WmDU>极速体验</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/enviroment-setup><span title=环境搭建 class=linkLabel_WmDU>环境搭建</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/project-compilation><span title=项目编译 class=linkLabel_WmDU>项目编译</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/firmware-burning><span title=固件烧录 class=linkLabel_WmDU>固件烧录</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/equipment-authorization><span title=设备授权 class=linkLabel_WmDU>设备授权</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/device-network-configuration><span title=设备配网 class=linkLabel_WmDU>设备配网</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/quick-start/device-debug><span title=设备调试 class=linkLabel_WmDU>设备调试</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/zh/docs/hardware-specific><span title=硬件文档 class=categoryLinkLabel_W154>硬件文档</span></a><button aria-label="折叠侧边栏分类 '硬件文档'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/zh/docs/hardware-specific/t5-ai-board/overview-t5-ai-board><span title="T5-AI Board DevKit" class=categoryLinkLabel_W154>T5-AI Board DevKit</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/hardware-specific/t5-ai-board/overview-t5-ai-board><span title="T5AI-Board 概述" class=linkLabel_WmDU>T5AI-Board 概述</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/zh/docs/hardware-specific/t5-ai-core/overview-t5-ai-core><span title="T5-AI Core DevKit" class=categoryLinkLabel_W154>T5-AI Core DevKit</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/hardware-specific/t5-ai-core/overview-t5-ai-core><span title="T5AI-Core 概述" class=linkLabel_WmDU>T5AI-Core 概述</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/zh/docs/applications><span title=应用示例 class=categoryLinkLabel_W154>应用示例</span></a><button aria-label="展开侧边栏分类 '应用示例'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/examples/demo-generic-examples><span title=示例 class=categoryLinkLabel_W154>示例</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/peripheral/support_peripheral_list><span title=外设驱动 class=categoryLinkLabel_W154>外设驱动</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/new-hardware/porting-platform><span title=添加新项目 class=categoryLinkLabel_W154>添加新项目</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/zh/docs/cloud/tuya-cloud/creating-new-product><span title=云服务 class=categoryLinkLabel_W154>云服务</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/zh/docs/cloud/tuya-cloud/creating-new-product><span title=涂鸦云平台开发 class=categoryLinkLabel_W154>涂鸦云平台开发</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/cloud/tuya-cloud/creating-new-product><span title=创建新产品 class=linkLabel_WmDU>创建新产品</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/tkl-api/tkl_mutex><span title="TKL APIs" class=categoryLinkLabel_W154>TKL APIs</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/zh/docs/tos-tools/tos-guide><span title="Tos 工具" class=categoryLinkLabel_W154>Tos 工具</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/zh/docs/tos-tools/tos-guide><span title="tos.py 使用指南" class=linkLabel_WmDU>tos.py 使用指南</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/zh/docs/tos-tools/tools-tyutool><span title="tyutool 工具介绍" class=linkLabel_WmDU>tyutool 工具介绍</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/build-system/compilation-guide><span title=构建系统 class=categoryLinkLabel_W154>构建系统</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/zh/docs/faqs><span title=FAQs class=linkLabel_WmDU>FAQs</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/zh/docs/contribute/contribute-guide><span title=贡献 class=categoryLinkLabel_W154>贡献</span></a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=页面路径><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=主页面 class=breadcrumbs__link href=/zh/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Tos 工具</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>tos.py 使用指南</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>tos.py 使用指南</h1></header><h2 id=概述>概述</h2>
<p>本文主要介绍 <code>tos.py</code> 的工作原理和使用方法、各个子命令的行为解释，并针对可能出现的常见问题提供解决方法。</p>
<p>在完成激活 <code>TuyaOpen</code> 的操作后，也可以通过命令 <code>tos.py --help</code> 查看帮助信息。</p>
<pre><code class=language-bash>❯ tos.py --help
Usage: tos.py [OPTIONS] COMMAND [ARGS]...

  Tuya Uart Tool.

Options:
  -d, --debug  Show debug message
  -h, --help   Show this message and exit.

Commands:
  version  Show version.
  check    Check the dependent tools.
  config   Configuration file operation.
  build    Build the project.
  clean    Clean the project.
  flash    Flash the firmware.
  monitor  Display the device log.
  update   Update TuyaOpen dependencies.
</code></pre>
<p>使用命令字 <code>-d</code> 或 <code>--debug</code>，可以显示更多执行日志。</p>
<pre><code class=language-bash>❯ tos.py -d version
[DEBUG]: open_logger init done.
[INFO]: Running tos.py ...
[INFO]: v1.3.0-23-g6bcb5aa
</code></pre>
<h2 id=version>version</h2>
<p><code>tos.py version</code> 所输出的版本号信息如下：</p>
<pre><code class=language-bash>❯ tos.py version
[INFO]: Running tos.py ...
[INFO]: v1.3.0-23-g6bcb5aa
</code></pre>
<p>显示内容实际是 <code>TuyaOpen</code> 仓库当前的 <code>tag-commit</code>，与命令 <code>git describe --tags</code> 输出一致，其中：</p>
<ul>
<li><code>v1.3.0</code>：最近的发布版本号。</li>
<li><code>23</code>：在 v1.3.0 的基础上有 23 个新的 Commit 提交。</li>
<li><code>g6bcb5aa</code>：<code>g</code> 为固定前缀，<code>6bcb5aa</code> 是当前 Commit 的缩写。</li>
</ul>
<details><summary>出现 [Unknow version]：</summary><p>说明当前仓库没有任何 tag，常见于 fork 仓库的情况。</details>
<h2 id=check>check</h2>
<pre><code class=language-bash>❯ tos.py check
[INFO]: Running tos.py ...
[INFO]: [git] (2.43.0 >= 2.0.0) is ok.
[INFO]: [cmake] (4.0.2 >= 3.28.0) is ok.
[INFO]: [make] (4.3 >= 3.0.0) is ok.
[INFO]: [ninja] (1.11.1 >= 1.6.0) is ok.
[INFO]: Downloading submoudules ...
[INFO]: [do subprocess]: cd /home/huatuo/work/open/TuyaOpen && git submodule update --init
[INFO]: Download submoudules successfully.
</code></pre>
<p><code>check</code> 命令会完成以下两个步骤的操作：</p>
<ol>
<li>
<p>检查 <code>TuyaOpen</code> 使用中所需的环境工具是否存在，并校验版本号。</p>
</li>
<li>
<p>下载所需要的 <code>submodules</code>。</p>
</li>
</ol>
<details><summary>Check 过程中出现 Error：</summary><ul>
<li>
<p>工具未安装或版本过低，可安装或升级对应工具。</p>
</li>
<li>
<p><code>submodules</code> 下载失败，可尝试在 <code>TuyaOpen</code> 根目录执行 <code>git submodule update --init</code>。</p>
</li>
</ul></details>
<h2 id=config>config</h2>
<pre><code class=language-bash>❯ tos.py config -h
Usage: tos.py config [OPTIONS] COMMAND [ARGS]...

  Configuration file operation.

Commands:
  choice  Choice config file.
  menu    Menuconfig.
  save    Save minimal config.
</code></pre>
<h3 id=config-choice>config choice</h3>
<p>在项目目录中，执行命令 <code>tos.py config choice</code>。</p>
<p>会展示当前项目所支持的所有固化配置，可直接使用，被选择的配置会同步到项目路径下的 <a href=/docs/project-walkthrough#app_defaultconfig>app_default.config</a> 文件。</p>
<pre><code class=language-bash>❯ tos.py config choice
[INFO]: Fullclean success.
--------------------
1. DNESP32S3_BOX.config
2. XINGZHI_Cube_0_96OLED_WIFI.config
3. WAVESHARE_ESP32S3_TOUCH_AMOLED_1_8.config
4. ESP32S3_BREAD_COMPACT_WIFI.config
5. TUYA_T5AI_EVB.config
6. DNESP32S3.config
7. TUYA_T5AI_BOARD_EYES.config
8. TUYA_T5AI_MINI_LCD_1.3.config
9. T5AI_MOJI_1.28.config
10. TUYA_T5AI_BOARD_LCD_3.5.config
--------------------
Input "q" to exit.
Choice config file:
</code></pre>
<p>固化配置的来源有两个：</p>
<ul>
<li>
<p>优先使用项目路径下 <code>config</code> 目录中的配置文件（如 <code>your_chat_bot</code>）。</p>
</li>
<li>
<p>若以上来源不存在，使用 <code>TuyaOpen/boards</code> 中提供的配置文件（如 <code>switch_demo</code>）。</p>
</li>
</ul>
<admonition type=note><p>该操作可能会改变所使用的工具链，所以 <code>config</code> 操作会先执行一次深度清理。</p></admonition>
<p>当 <code>config</code> 目录存在时，并不会显示 <code>boards</code> 中的配置文件。</p>
<p>若只想显示 <code>boards</code> 中的配置，可添加命令字 <code>config -d</code>。</p>
<h3 id=config-menu>config menu</h3>
<p><code>menu</code> 命令会打开可视化配置界面。</p>
<p><img src=https://images.tuyacn.com/fe-static/docs/img/0ad1b8c6-303d-411c-bfe7-c25e17968c05.png alt=menu /></p>
<p>使用者可以根据项目需求修改配置选项，保存后会同步修改 <a href=/docs/project-walkthrough#app_defaultconfig>app_default.config</a> 文件。</p>
<admonition type=note><p>该操作可能会改变所使用的工具链，所以<code>menu</code>操作，会先执行一次深度清理。</p></admonition>
<admonition type=warning><p>修改配置会导致项目功能发生变化，甚至编译失败。可以询问技术支持，或者使用 <code>choice</code> 命令重新选择配置。</p></admonition>
<h3 id=config-save>config save</h3>
<p><code>save</code> 会将当前项目所使用的配置保存为固化配置，方便以后使用。</p>
<p>具体操作为将 <a href=/docs/project-walkthrough#app_defaultconfig>app_default.config</a> 文件重新命名后保存到 <code>config</code> 目录中。</p>
<pre><code class=language-bash>❯ tos.py config save
[INFO]: Running tos.py ...
Input save config name:
</code></pre>
<admonition type=tip><p><code>save</code> 操作针对通过 <code>menu</code> 修改过固化配置的场景使用。</p></admonition>
<h2 id=build>build</h2>
<p>编译项目，生成可执行文件。</p>
<pre><code class=language-bash>❯ tos.py build
...
[INFO]: ******************************
[INFO]: /xxx/TuyaOpen/apps/tuya_cloud/switch_demo/.build/bin/switch_demo_QIO_1.0.0.bin
[INFO]: ******************************
[INFO]: ******* Build Success ********
[INFO]: ******************************

</code></pre>
<p>具体执行过程中，会完成如下操作：</p>
<ol>
<li>
<p>下载项目所选择的工具链仓库到 <code>platform</code> 目录中。</p>
</li>
<li>
<p>执行工具链的 <code>prepare</code> 操作。</p>
</li>
<li>
<p>创建编译目录 <code>.build</code>，并解析 <code>CMakeLists.txt</code> 文件。</p>
</li>
<li>
<p>执行编译命令 <code>ninja build</code>。</p>
</li>
<li>
<p>将产物放到路径 <code>.build/bin</code>。</p>
</li>
</ol>
<p>若需参考详细的编译日志，可使用命令字 <code>build -v</code>。</p>
<h2 id=clean>clean</h2>
<p>清理编译缓存。</p>
<p>使用命令字 <code>clean -f</code> 深度清理。在 <code>ninja clean</code> 执行结束后，会删除编译目录 <code>.build</code>。</p>
<h2 id=flash>flash</h2>
<p>烧录可执行文件到设备中。</p>
<p>使用工具 <code>tyutool_cli</code> 完成烧录，如果没有会自动下载。</p>
<p>根据项目配置，会自动调整烧录方式，也可以通过命令字手动设置。</p>
<pre><code class=language-bash>❯ tos.py flash -h
Usage: tos.py flash [OPTIONS]

  Flash the firmware.

Options:
  -d, --debug         Show flash debug message.
  -p, --port TEXT     Target port.
  -b, --baud INTEGER  Uart baud rate.
  -h, --help          Show this message and exit.
</code></pre>
<p><code>tyutool_cli</code> 工具存放在目录 <code>TuyaOpen/tools/tyutool</code> 中。</p>
<admonition type=tip><p>对于 Linux/Mac 用户，需要开启串口使用权限，执行命令 <code>sudo usermod -aG dialout $USER</code>，并重启系统。</p></admonition>
<h2 id=monitor>monitor</h2>
<p>使用工具 <code>tyutool_cli</code> 显示串口日志。</p>
<p>根据项目配置，自动调整日志参数，也可以通过命令字手动设置。</p>
<pre><code class=language-bash>❯ tos.py monitor -h
Usage: tos.py monitor [OPTIONS]

  Display the device log.

Options:
  -p, --port TEXT     Target port.
  -b, --baud INTEGER  Uart baud rate.
  -h, --help          Show this message and exit.
</code></pre>
<p>同时，也可以使用 <code>monitor</code> 功能写入授权码，参考：<a href=/docs/quick-start/equipment-authorization>设备授权</a>。</p>
<p>如需退出日志查看，按键 <code>Ctrl + C</code>，并回车。</p>
<pre><code class=language-bash>^C[INFO]: Press "Entry" ...

[INFO]: Monitor exit.
</code></pre>
<h2 id=update>update</h2>
<p>根据 <code>TuyaOpen</code> 的依赖配置文件，将相关依赖切换到指定 <code>commit</code>。</p>
<p>若使用 <code>git pull</code> 或 <code>git checkout</code> 更新了 <code>TuyaOpen</code> 主仓库，可使用 <code>update</code> 命令，自动更新相关依赖。</p>
<p>工具链依赖关系记录在文件 <code>TuyaOpen/platform/platform_config.yaml</code> 中。</p>
<h2 id=new>new</h2>
<h3 id=new-project>new project</h3>
<p>该命令用于快速创建一个新的用户应用程序项目。</p>
<p>执行过程如下：</p>
<ol>
<li>
<p>询问项目名称：提示您输入新项目的名称（例如<code>my_app</code>）。</p>
</li>
<li>
<p>选择框架：可以通过 <code>--framework</code> 参数选择一个项目模板。从代码看，目前支持 base（基础模板）和 arduino 两种。默认是 base。</p>
</li>
<li>
<p>复制模板：</p>
<ol>
<li>首先，会从 <code>tools/app_template/</code> 目录中检索到对应的框架模板。</li>
<li>然后，将整个模板目录完整地复制到当前目录下，并重命名为您输入的项目名。</li>
</ol>
</li>
</ol>
<h3 id=new-platform>new platform</h3>
<p>该命令的具体使用方法，请参考 <strong><a href=/docs/new-hardware/new-platform>new platform</a></strong>。</p>
<h2 id=常见问题>常见问题</h2>
<h3 id=在-windows-中执行-config-menu-命令方向键有失效的可能性>在 <code>Windows</code> 中执行 <code>config menu</code> 命令，方向键有失效的可能性？</h3>
<p>这是终端模拟器兼容性问题所导致，您可以尝试以下操作：</p>
<ul>
<li>在 <code>cmd</code> 和 <code>powershell</code> 中选择可用的终端。</li>
<li>使用按键 <strong>h（⬅️）、j（⬇️）、k（⬆️）、l（➡️）</strong> 进行方向控制操作。</li>
</ul>
<h3 id=check-报错>check 报错</h3>
<ol>
<li>
<p>依赖工具未安装或版本过低</p>
<ul>
<li>请安装或升级对应的工具</li>
</ul>
</li>
<li>
<p>submodules 下载失败</p>
<ul>
<li>请尝试在 <code>TuyaOpen</code> 根目录执行 <code>git submodule update --init</code></li>
</ul>
</li>
</ol>
<h3 id=could-not-lock-config-file>could not lock config file</h3>
<p>若出现如下报错</p>
<pre><code class=language-bash>[WARNING]: Set repo mirro error: Cmd('git') failed due to: exit code(255)                                                                         
  cmdline: git config --global --unset url.https://gitee.com/tuya-open/FlashDB.insteadOf                                                          
  stderr: 'error: could not lock config file /home/huatuo/.gitconfig: File exists'                                                                
[WARNING]: Set repo mirro error: Cmd('git') failed due to: exit code(255)                                                                         
  cmdline: git config --global --unset url.https://gitee.com/tuya-open/littlefs.insteadOf                                                         
  stderr: 'error: could not lock config file /home/huatuo/.gitconfig: File exists'
</code></pre>
<p>可手动删除文件 <code>~/.gitconfig.lock</code></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tos-tools/tos-guide.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label=文件选项卡><a class="pagination-nav__link pagination-nav__link--prev" href=/zh/docs/tkl-api/tkl_wired><div class=pagination-nav__sublabel>上一页</div><div class=pagination-nav__label>tkl_wired | 以太有线驱动</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/zh/docs/tos-tools/tools-tyutool><div class=pagination-nav__sublabel>下一页</div><div class=pagination-nav__label>tyutool 工具介绍</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#概述 class="table-of-contents__link toc-highlight">概述</a><li><a href=#version class="table-of-contents__link toc-highlight">version</a><li><a href=#check class="table-of-contents__link toc-highlight">check</a><li><a href=#config class="table-of-contents__link toc-highlight">config</a><ul><li><a href=#config-choice class="table-of-contents__link toc-highlight">config choice</a><li><a href=#config-menu class="table-of-contents__link toc-highlight">config menu</a><li><a href=#config-save class="table-of-contents__link toc-highlight">config save</a></ul><li><a href=#build class="table-of-contents__link toc-highlight">build</a><li><a href=#clean class="table-of-contents__link toc-highlight">clean</a><li><a href=#flash class="table-of-contents__link toc-highlight">flash</a><li><a href=#monitor class="table-of-contents__link toc-highlight">monitor</a><li><a href=#update class="table-of-contents__link toc-highlight">update</a><li><a href=#new class="table-of-contents__link toc-highlight">new</a><ul><li><a href=#new-project class="table-of-contents__link toc-highlight">new project</a><li><a href=#new-platform class="table-of-contents__link toc-highlight">new platform</a></ul><li><a href=#常见问题 class="table-of-contents__link toc-highlight">常见问题</a><ul><li><a href=#在-windows-中执行-config-menu-命令方向键有失效的可能性 class="table-of-contents__link toc-highlight">在 <code>Windows</code> 中执行 <code>config menu</code> 命令，方向键有失效的可能性？</a><li><a href=#check-报错 class="table-of-contents__link toc-highlight">check 报错</a><li><a href=#could-not-lock-config-file class="table-of-contents__link toc-highlight">could not lock config file</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>文档</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/zh/docs/quick-start/unboxing>教程</a><li class=footer__item><a class=footer__link-item href=/zh/pricing>服务</a><li class=footer__item><a class=footer__link-item href=/zh/docs/hardware-specific>硬件支持清单</a><li class=footer__item><a class=footer__link-item href=/zh/docs/hardware-specific/t5-ai-board/overview-t5-ai-board>Tuya T5AI 开发套件</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>工具</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://tuyaopen.ai/tools target=_blank rel="noopener noreferrer" class=footer__link-item>Web Serial 工具<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>社区</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.com/invite/yPPShSTttG target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/tuyasmart target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.youtube.com/@tuya2023 target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.linkedin.com/company/tuya-smart target=_blank rel="noopener noreferrer" class=footer__link-item>Linkedin<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>更多</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/tuya/TuyaOpen target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gitee.com/tuya-open/TuyaOpen target=_blank rel="noopener noreferrer" class=footer__link-item>Gitee(Mirror)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>致谢</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://storyset.com/technology target=_blank rel="noopener noreferrer" class=footer__link-item>Thanks for the technology illustrations by Storyset<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>
        <p style="font-weight: 500;">版权所有 © TuyaOpen Authors 2025 | Documentation Distributed under Apache License Version 2.0</p>
</div></div></div></footer></div></body>