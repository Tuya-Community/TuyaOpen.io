"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["8635"],{32548:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>c,toc:()=>a,default:()=>h,metadata:()=>l,assets:()=>t,contentTitle:()=>d});var l=JSON.parse('{"id":"contribute/coding-style-guide","title":"\u7F16\u7801\u98CE\u683C\u6307\u5357","description":"\u672C\u98CE\u683C\u6307\u5357\u76EE\u7684\u662F\u9F13\u52B1 TuyaOpen \u5F00\u53D1\u4EBA\u5458\u4F7F\u7528\u7EDF\u4E00\u7684\u7F16\u7801\u98CE\u683C\uFF0C\u63D0\u9AD8\u4EE3\u7801\u7684\u53EF\u8BFB\u6027\u548C\u53EF\u7EF4\u62A4\u6027\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/contribute/coding-style-guide.md","sourceDirName":"contribute","slug":"/contribute/coding-style-guide","permalink":"/zh/docs/contribute/coding-style-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/contribute/coding-style-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\u8D21\u732E\u6307\u5357","permalink":"/zh/docs/contribute/contribute-guide"},"next":{"title":"Markdown \u8BED\u6CD5\u5FEB\u901F\u6307\u5357","permalink":"/zh/docs/contribute/template/markdown-syntax"}}'),s=i(74848),r=i(84429);let c={},d="\u7F16\u7801\u98CE\u683C\u6307\u5357",t={},a=[{value:"\u76EE\u5F55\u4E0E\u6587\u4EF6",id:"\u76EE\u5F55\u4E0E\u6587\u4EF6",level:2},{value:"\u5934\u6587\u4EF6",id:"\u5934\u6587\u4EF6",level:3},{value:"\u6587\u4EF6\u5934\u63CF\u8FF0\u4FE1\u606F",id:"\u6587\u4EF6\u5934\u63CF\u8FF0\u4FE1\u606F",level:3},{value:"\u51FD\u6570",id:"\u51FD\u6570",level:2},{value:"\u51FD\u6570\u540D",id:"\u51FD\u6570\u540D",level:3},{value:"\u5165\u53C2",id:"\u5165\u53C2",level:3},{value:"\u8FD4\u56DE\u503C",id:"\u8FD4\u56DE\u503C",level:3},{value:"\u51FD\u6570\u58F0\u660E",id:"\u51FD\u6570\u58F0\u660E",level:3},{value:"\u6CE8\u91CA",id:"\u6CE8\u91CA",level:3},{value:"\u7F29\u8FDB",id:"\u7F29\u8FDB",level:2},{value:"\u7A7A\u683C\u4E0E\u62EC\u53F7",id:"\u7A7A\u683C\u4E0E\u62EC\u53F7",level:3},{value:"\u5FAA\u73AF",id:"\u5FAA\u73AF",level:3},{value:"do-while \u8BED\u53E5",id:"do-while-\u8BED\u53E5",level:3},{value:"\u6761\u4EF6\u5224\u65AD",id:"\u6761\u4EF6\u5224\u65AD",level:3},{value:"if-else if-else \u8BED\u53E5",id:"if-else-if-else-\u8BED\u53E5",level:3},{value:"switch-case",id:"switch-case",level:3},{value:"\u5B8F\u4E0E\u679A\u4E3E",id:"\u5B8F\u4E0E\u679A\u4E3E",level:2},{value:"\u683C\u5F0F\u5316\u4EE3\u7801",id:"\u683C\u5F0F\u5316\u4EE3\u7801",level:2}];function o(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u7F16\u7801\u98CE\u683C\u6307\u5357",children:"\u7F16\u7801\u98CE\u683C\u6307\u5357"})}),"\n",(0,s.jsx)(e.p,{children:"\u672C\u98CE\u683C\u6307\u5357\u76EE\u7684\u662F\u9F13\u52B1 TuyaOpen \u5F00\u53D1\u4EBA\u5458\u4F7F\u7528\u7EDF\u4E00\u7684\u7F16\u7801\u98CE\u683C\uFF0C\u63D0\u9AD8\u4EE3\u7801\u7684\u53EF\u8BFB\u6027\u548C\u53EF\u7EF4\u62A4\u6027\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["TuyaOpen \u7F16\u7801\u4EE5 ",(0,s.jsx)(e.a,{href:"https://www.kernel.org/doc/html/latest/process/coding-style.html",children:"Linux kernel coding style"})," \u4E3A\u57FA\u7840\uFF0C\u5BF9\u90E8\u5206\u89C4\u8303\u8FDB\u884C\u4E86\u8C03\u6574\u6216\u8005\u5220\u9664\u3002"]}),"\n",(0,s.jsx)(e.h2,{id:"\u76EE\u5F55\u4E0E\u6587\u4EF6",children:"\u76EE\u5F55\u4E0E\u6587\u4EF6"}),"\n",(0,s.jsx)(e.p,{children:'\u76EE\u5F55\u4E0E\u6587\u4EF6\u547D\u540D\u5747\u91C7\u7528\u5C0F\u5199\u5B57\u6BCD\uFF0C\u547D\u540D\u5E94\u80FD\u591F\u6B63\u786E\u53CD\u6620\u5BF9\u5E94\u5185\u5BB9\u7684\u542B\u4E49\uFF1B\u6709\u591A\u4E2A\u4E0D\u540C\u542B\u4E49\u7EC4\u5408\u7684\u547D\u4EE4\u4EE5\u4E0B\u5212\u7EBF "_" \u8FDE\u63A5\uFF0C\u5EFA\u8BAE\u76EE\u5F55\u4E0E\u6587\u4EF6\u540D\u4E0D\u8D85\u8FC7 3 \u4E2A\u4EE5\u4E0A\u7EC4\u5408\u3002'}),"\n",(0,s.jsx)(e.h3,{id:"\u5934\u6587\u4EF6",children:"\u5934\u6587\u4EF6"}),"\n",(0,s.jsx)(e.p,{children:"C \u8BED\u8A00\u5934\u6587\u4EF6\u4E3A\u4E86\u907F\u514D\u591A\u6B21\u91CD\u590D\u5305\u542B\uFF0C\u9700\u8981\u5B9A\u4E49\u4E00\u4E2A\u7B26\u53F7\u3002\u8FD9\u4E2A\u7B26\u53F7\u7684\u5B9A\u4E49\u5F62\u5F0F\u8BF7\u91C7\u7528\u5982\u4E0B\u7684\u98CE\u683C\uFF1A"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:'#ifndef __TCP_TRANSPORTER_H__\n#define __TCP_TRANSPORTER_H__\n\n#ifdef __cplusplus\nextern "C" {\n#endif\n\n...\n\n#ifdef __cplusplus\n} // extern "C"\n#endif\n\n#endif /* __TCP_TRANSPORTER_H__ */\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u5B8F\u7684\u547D\u540D\u65B9\u5F0F\u548C\u6587\u4EF6\u540D\u4FDD\u6301\u4E00\u81F4\uFF0C\u91C7\u7528\u5927\u5199\u5B57\u6BCD\uFF0C\u4EE5\u53CC\u4E0B\u5212\u7EBF\u5F00\u5934\u3001\u7ED3\u5C3E\uFF0C\u6240\u6709\u975E\u5B57\u6BCD\u7B26\u53F7\u8F6C\u6362\u6210\u4E0B\u5212\u7EBF\u3002"}),"\n",(0,s.jsx)(e.p,{children:'\u540C\u65F6\u4E3A\u4E86\u4FDD\u8BC1\u5728 c \u51FD\u6570\u5728 c++ \u73AF\u5883\u4E0B\u6B63\u5E38\u4F7F\u7528\uFF0C\u5E94\u5728\u5934\u6587\u4EF6\u4F7F\u7528 extern "c" \u5B8F\u6765\u4FDD\u8BC1\u51FD\u6570\u58F0\u660E\u7684\u786E\u5B9A\u6027\u3002'}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:'#ifdef __cplusplus\nextern "C" {\n#endif\n\n#ifdef __cplusplus\n}\n#endif\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6240\u6709\u7684\u5934\u6587\u4EF6\u5185\u5BB9\u90FD\u5FC5\u987B\u653E\u5728\u5B8F\u4FDD\u62A4\u533A\u57DF\u5185\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u6587\u4EF6\u5934\u63CF\u8FF0\u4FE1\u606F",children:"\u6587\u4EF6\u5934\u63CF\u8FF0\u4FE1\u606F"}),"\n",(0,s.jsx)(e.p,{children:"\u6587\u4EF6\u5934\u90E8\u9700\u8981\u589E\u52A0\u63CF\u8FF0\u6027\u6CE8\u91CA\u4FE1\u606F\uFF0C\u7528\u4E8E\u63CF\u8FF0\u8BE5\u6587\u4EF6\u7684\u63CF\u8FF0\u3001\u7248\u672C\u3001\u7248\u6743\u7B49\u5185\u5BB9\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"/**\n * @file tcp_transporter.h\n * @brief Header file for TCP transporter functions.\n *\n * This file declares the interface for creating and destroying TCP transporters\n * within the Tuya AI+IoT SDK. A TCP transporter is responsible for establishing\n * and managing TCP connections, enabling the transmission of data between Tuya\n * devices and the Tuya cloud platform or other networked services. The\n * functions provided here allow for the creation of a TCP transporter instance\n * and its subsequent destruction, facilitating clean resource management and\n * termination of TCP connections.\n *\n * The creation function initializes a new TCP transporter and returns a handle\n * for further operations, while the destruction function releases any resources\n * allocated to the TCP transporter and properly closes the TCP connection.\n *\n * @copyright Copyright (c) 2021-2024 Tuya Inc. All Rights Reserved.\n *\n */\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u51FD\u6570",children:"\u51FD\u6570"}),"\n",(0,s.jsx)(e.h3,{id:"\u51FD\u6570\u540D",children:"\u51FD\u6570\u540D"}),"\n",(0,s.jsxs)(e.p,{children:['\u51FD\u6570\u547D\u540D\u7531\u5C0F\u5199\u5B57\u6BCD\u548C\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u5355\u8BCD\u4E4B\u95F4\u4F7F\u7528 "_" \u8FDE\u63A5\u3002\u547D\u4EE4\u91C7\u7528\u52A8\u5BBE\u7ED3\u6784\u7684\u65B9\u5F0F\uFF0C\u5982 ',(0,s.jsx)(e.code,{children:"set_xxx"}),"\uFF0C",(0,s.jsx)(e.code,{children:"get_xxx"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:'\u6A21\u5757\u5185\u90E8\u51FD\u6570\u63A5\u53E3\u5E94\u4EE5\u53CC\u4E0B\u5212\u7EBF "__" \u5F00\u5934\uFF0C\u5E76\u5EFA\u8BAE\u4EE5\u58F0\u660E\u4E3A static\uFF1A'}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"static void __function(void)\n{\n    ...\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5165\u53C2",children:"\u5165\u53C2"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679C\u51FD\u6570\u5165\u53E3\u53C2\u6570\u662F\u7A7A\uFF0C\u5FC5\u987B\u4F7F\u7528 void \u4F5C\u4E3A\u5165\u53E3\u53C2\u6570\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u8FD4\u56DE\u503C",children:"\u8FD4\u56DE\u503C"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u51FD\u6570\u5FC5\u987B\u6307\u5B9A\u8FD4\u56DE\u503C"}),"\n",(0,s.jsx)(e.li,{children:"\u51FD\u6570\u5185\u5BF9\u4E8E\u6709\u660E\u786E\u8FD4\u56DE\u503C\u7684\u8C03\u7528\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF0C\u9700\u8981\u8FDB\u884C\u5224\u65AD\uFF0C\u5E76\u8FDB\u884C\u5F02\u5E38\u5904\u7406"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:'static OPERATE_RET function(void)\n{\n    char *out = NULL;\n\n    out = tal_malloc(128);\n    if (NULL == out) {\n        PR_ERR("tal_malloc Fails %d", len);\n        return OPRT_MALLOC_FAILED;\n    }\n    \n    ...\n    \n    return OPRT_OK;\n}\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u51FD\u6570\u8FD4\u56DE\u503C\u3001\u540D\u79F0\u5E94\u4FDD\u6301\u5728\u540C\u4E00\u884C\uFF0C\u5982\u9700\u8981\u6362\u884C\uFF0C\u5219\u9700\u8981\u4FDD\u6301\u5408\u7406\u7684\u5BF9\u5176\u65B9\u5F0F"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u51FD\u6570\u58F0\u660E",children:"\u51FD\u6570\u58F0\u660E"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u63D0\u4F9B\u7ED9\u5916\u90E8\u4F7F\u7528\u7684 API \u63A5\u53E3\uFF0C\u5FC5\u987B\u5728\u76F8\u5E94\u7684\u5934\u6587\u4EF6\u4E2D\u58F0\u660E"}),"\n",(0,s.jsx)(e.li,{children:"\u901A\u8FC7\u5934\u6587\u4EF6\u5F15\u7528\u65B9\u5F0F\u83B7\u5F97\u51FD\u6570\u7684\u58F0\u660E\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528 extern \u65B9\u5F0F\uFF1B\u5C3D\u91CF\u907F\u514D\u4F7F\u7528 extern \u4F5C\u7528\u4E0E\u51FD\u6570"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u6CE8\u91CA",children:"\u6CE8\u91CA"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u597D\u7684\u4EE3\u7801\u5E94\u8BE5\u6709\u81EA\u63CF\u8FF0\u6027\uFF0C\u4F46\u662F\u5E76\u4E0D\u662F\u6BCF\u4E2Acoder\u90FD\u53EF\u4EE5\u505A\u5230\uFF0C\u5EFA\u8BAE\u4EE3\u7801\u5E94\u8BE5\u5305\u542B\u4E30\u5BCC\u7684\u6CE8\u91CA\uFF0C\u5E2E\u52A9\u6211\u4EEC\u8BB0\u5F55\u3001\u7406\u89E3\u3001\u8DDF\u8E2A\u4EE3\u7801"}),"\n",(0,s.jsx)(e.li,{children:"\u5BF9\u5916\u7684\u63A5\u53E3\u5E94\u8BE5\u5728\u5934\u6587\u4EF6\u58F0\u660E\uFF0C\u5E76\u63D0\u4F9B\u8BE6\u7EC6\u6CE8\u91CA\uFF0C\u8BE6\u7EC6\u63CF\u8FF0\u51FD\u6570\u529F\u80FD\u3001\u53C2\u6570\u3001\u8FD4\u56DE\u503C"}),"\n",(0,s.jsx)(e.li,{children:"\u51FD\u6570\u5934\u7684\u6CE8\u91CA\u5E94\u5F53\u5177\u6709\u5E2E\u52A9\u7406\u89E3\u51FD\u6570\u7528\u9014\u3001\u53C2\u6570\u4F7F\u7528\u65B9\u5F0F\uFF0C\u8FD4\u56DE\u503C\u5982\u4F55\u5904\u7406\u7B49\uFF0C\u80FD\u591F\u5E2E\u52A9\u4F7F\u7528\u8005\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\u8BE5\u51FD\u6570\uFF0C\u5E76\u4E86\u89E3\u8BE5\u51FD\u6570\u5728\u67D0\u4E9B\u7279\u6B8A\u7684\u573A\u666F\u4E0B\u5177\u6709\u7684\u95EE\u9898\u548C\u98CE\u9669"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"/**\n * @brief Controls the TLS transporter.\n *\n * This function is used to control the TLS transporter by sending different\n * commands.\n *\n * @param t The TLS transporter to control.\n * @param cmd The command to send.\n * @param args The arguments for the command.\n *\n * @return The result of the operation.\n */\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5176\u4E2D"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"@brief + \u7B80\u8FF0\u51FD\u6570\u4F5C\u7528\u3002\u5728\u63CF\u8FF0\u4E2D\uFF0C\u7740\u91CD\u8BF4\u660E\u8BE5\u51FD\u6570\u7684\u4F5C\u7528\uFF0C\u6BCF\u53E5\u8BDD\u9996\u5B57\u6BCD\u5927\u5199\uFF0C\u53E5\u5C3E\u52A0\u82F1\u6587\u53E5\u53F7"}),"\n",(0,s.jsx)(e.li,{children:"\u51FD\u6570\u8BF4\u660E\u3002\u5728\u4E0A\u8FF0\u7B80\u8FF0\u4E2D\u672A\u80FD\u4F53\u73B0\u5230\u7684\u51FD\u6570\u529F\u80FD\u6216\u4F5C\u7528\u7684\u4E00\u4E9B\u70B9\uFF0C\u53EF\u4EE5\u505A\u89E3\u91CA\u8BF4\u660E\uFF0C\u6BCF\u53E5\u8BDD\u9996\u5B57\u6BCD\u5927\u5199\uFF0C\u53E5\u5C3E\u52A0\u82F1\u6587\u53E5\u53F7"}),"\n",(0,s.jsx)(e.li,{children:"@param + \u4EE5\u53C2\u6570\u4E3A\u4E3B\u8BED + be \u52A8\u8BCD + \u63CF\u8FF0\uFF0C\u8BF4\u660E\u53C2\u6570\u7684\u610F\u4E49\u6216\u6765\u6E90"}),"\n",(0,s.jsx)(e.li,{children:"@return + \u679A\u4E3E\u8FD4\u56DE\u503C + \u8FD4\u56DE\u503C\u7684\u610F\u601D\uFF0C\u82E5\u8FD4\u56DE\u503C\u4E3A\u6570\u636E\uFF0C\u5219\u76F4\u63A5\u4ECB\u7ECD\u6570\u636E\u7684\u529F\u80FD"}),"\n",(0,s.jsx)(e.li,{children:"@warning + \u51FD\u6570\u4F7F\u7528\u6CE8\u610F\u8981\u70B9\u3002\u5728\u51FD\u6570\u4F7F\u7528\u65F6\uFF0C\u63CF\u8FF0\u9700\u8981\u6CE8\u610F\u7684\u4E8B\u9879\uFF0C\u5982\u4F7F\u7528\u73AF\u5883\u3001\u4F7F\u7528\u65B9\u5F0F\u7B49\u3002\u6BCF\u53E5\u8BDD\u9996\u5B57\u6BCD\u5927\u5199\uFF0C\u53E5\u5C3E\u52A0\u82F1\u6587\u53E5\u53F7"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u7F29\u8FDB",children:"\u7F29\u8FDB"}),"\n",(0,s.jsx)(e.p,{children:"\u6211\u4EEC\u91C7\u7528 K&R \u7F29\u8FDB\u98CE\u683C\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u7A7A\u683C\u4E0E\u62EC\u53F7",children:"\u7A7A\u683C\u4E0E\u62EC\u53F7"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7A0B\u5E8F\u5757\u91C7\u7528\u7F29\u8FDB\u98CE\u683C\u7F16\u5199\uFF0C\u6BCF\u7EA7\u7F29\u8FDB\u4E3A 4 \u4E2A\u7A7A\u683C\uFF0C\u5E76\u4FDD\u6301\u4E00\u81F4"}),"\n",(0,s.jsx)(e.li,{children:"\u5173\u952E\u5B57\u540E\u52A0\u7A7A\u683C\uFF0C\u5DE6\u5C0F\u62EC\u53F7\u540E\u3001\u53F3\u5C0F\u62EC\u53F7\u524D\u4E0D\u52A0\u7A7A\u683C\uFF1A"}),"\n",(0,s.jsx)(e.li,{children:"\u5DE6\u5927\u62EC\u53F7\u548C\u6761\u4EF6\u3001\u5FAA\u73AF\u6761\u4EF6\u4E00\u884C"}),"\n",(0,s.jsx)(e.li,{children:"\u53F3\u5927\u62EC\u53F7\u72EC\u5360\u4E00\u884C (do-while \u548C if-else if\u9664\u5916)"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"if (condition) {\n    action();\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5FAA\u73AF",children:"\u5FAA\u73AF"}),"\n",(0,s.jsx)(e.p,{children:"for \u5FAA\u73AF\u9075\u5FAA\u51FD\u6570\u7684\u7F29\u8FDB\u6807\u51C6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"int i = 0;\nfor (i = 0; i < MAX; i++) { \n    do_something();\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"do-while-\u8BED\u53E5",children:"do-while \u8BED\u53E5"}),"\n",(0,s.jsx)(e.p,{children:"\u5DE6\u8FB9\u5927\u62EC\u53F7\u7D27\u8DDF do \u5173\u952E\u5B57\uFF0C\u5E76\u4E14\u7A7A\u4E00\u683C\uFF1B\u53F3\u8FB9\u5927\u62EC\u53F7\u548Cwhile\u5173\u952E\u5B57\u4E00\u884C\uFF0C\u5E76\u4E14\u7A7A\u4E00\u683C\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"do {\n    body of do-loop\n} while (condition);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6761\u4EF6\u5224\u65AD",children:"\u6761\u4EF6\u5224\u65AD"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728\u4E00\u4E2A\u6761\u4EF6\u3001\u5FAA\u73AF\u4E2D\u8D85\u8FC7\u4E00\u4E2A\u8BED\u53E5\u7684\u60C5\u51B5\u4E5F\u540C\u6837\u9700\u8981\u4F7F\u7528\u62EC\u53F7\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"if (condition) {\n    if (test) {\n        do_something();\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"if-else-if-else-\u8BED\u53E5",children:"if-else if-else \u8BED\u53E5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"if (x == y) {\n    ..\n} else if (x > y) {\n    ...\n} else {\n    ....\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"switch-case",children:"switch-case"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"case \u5355\u72EC\u5360\u4E00\u884C\uFF0C\u5E76\u4E14\u8BA9 case \u4E0E switch \u5BF9\u9F50"}),"\n",(0,s.jsx)(e.li,{children:"\u6BCF\u4E2A case \u7684\u6267\u884C\u4F53\u5EFA\u8BAE\u4F7F\u7528\u5927\u62EC\u53F7\u4FDD\u62A4\uFF0C\u907F\u514D\u53D8\u91CF\u7684\u4F5C\u7528\u57DF\u8D85\u51FA\u8303\u56F4"}),"\n",(0,s.jsx)(e.li,{children:"\u4E0D\u8981\u9057\u6F0F default"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"switch (suffix) { \ncase 'A': \ncase 'a': \n    {\n        printf(\"a\"); \n    }\n    break; \ncase 'B': \ncase 'b': \n    {\n        printf(\"b\");  \n    }\n    break; \n/* fall through */ \ndefault: \n    break; \n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u5B8F\u4E0E\u679A\u4E3E",children:"\u5B8F\u4E0E\u679A\u4E3E"}),"\n",(0,s.jsx)(e.p,{children:'\u5B9A\u4E49\u5E38\u91CF\u7684\u5B8F\u540D\u79F0\u548C\u679A\u4E3E\u4E2D\u7684\u6807\u7B7E\u5747\u4F7F\u7528\u5927\u5199\u5B57\u6BCD\uFF0C\u5355\u8BCD\u4E4B\u95F4\u4F7F\u7528 "_" \u8FDE\u63A5\u3002'}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"#define CONSTANT 0x12345\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5B9A\u4E49\u591A\u4E2A\u76F8\u5173\u5E38\u91CF\u65F6\uFF0C\u63A8\u8350\u4F7F\u7528\u679A\u4E3E\u5B9A\u4E49\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"typedef enum {\n    STATE_IDLE,\n    STATE_START,\n    STATE_DATA_LOAD,\n    STATE_ENDPOINT_GET,\n    STATE_ENDPOINT_UPDATE,\n    STATE_TOKEN_PENDING,\n    STATE_ACTIVATING,\n    STATE_NETWORK_CHECK,\n    STATE_NETWORK_RECONNECT,\n    STATE_STARTUP_UPDATE,\n    STATE_MQTT_CONNECT_START,\n    STATE_MQTT_CONNECTING,\n    STATE_MQTT_RECONNECT,\n    STATE_MQTT_YIELD,\n    STATE_RESTART,\n    STATE_RESET,\n    STATE_STOP,\n    STATE_EXIT,\n} tuya_run_state_t;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u683C\u5F0F\u5316\u4EE3\u7801",children:"\u683C\u5F0F\u5316\u4EE3\u7801"}),"\n",(0,s.jsx)(e.p,{children:"TuyaOpen \u652F\u6301 clang-format \u683C\u5F0F\u5316\u4EE3\u7801\uFF0C\u8BF7\u5B89\u88C5 clang-format 14 \u53CA\u4EE5\u4E0A\u7248\u672C\uFF0C\u53EF\u624B\u52A8\u683C\u5F0F\u5316\u6216\u81EA\u52A8\u683C\u5F0F\u5316\u5F53\u524D\u4FEE\u6539\u7684\u4EE3\u7801\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u624B\u5DE5\u683C\u5F0F\u5316:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"$ clang-format -style=file -i <file>\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5176\u4E2D ",(0,s.jsx)(e.code,{children:"<file>"})," \u4E3A\u5F85\u683C\u5F0F\u5316\u6587\u4EF6\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u81EA\u52A8\u683C\u5F0F\u5316\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"TuyaOpen \u76EE\u5F55 tools/hooks/pre-commit \u6587\u4EF6\u4F1A\u5728\u7F16\u8BD1\u65F6\u81EA\u52A8\u590D\u5236\u81F3 .git/hooks \u76EE\u5F55\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u901A\u8FC7 ",(0,s.jsx)(e.code,{children:"git commit"})," \u547D\u4EE4\u63D0\u4EA4\u4EE3\u7801\u65F6\uFF0Cpre-commit \u547D\u4EE4\u4F1A\u81EA\u52A8\u8C03\u7528 clang-format \u683C\u5F0F\u5316\u5F53\u524D\u5DF2\u7ECF\u901A\u8FC7 ",(0,s.jsx)(e.code,{children:"git add"})," \u547D\u4EE4\u6DFB\u52A0\u7684\u6587\u4EF6\u3002"]})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},84429:function(n,e,i){i.d(e,{R:()=>c,x:()=>d});var l=i(96540);let s={},r=l.createContext(s);function c(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);