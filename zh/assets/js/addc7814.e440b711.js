"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([[5453],{28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>i});var l=n(96540);const r={},t=l.createContext(r);function c(e){const s=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(t.Provider,{value:s},e.children)}},94569:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>o,frontMatter:()=>c,metadata:()=>l,toc:()=>_});const l=JSON.parse('{"id":"tkl-api/tkl_system","title":"tkl_system | \u7cfb\u7edf\u63a5\u53e3","description":"\u8bf4\u660e","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_system.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_system","permalink":"/zh/docs/tkl-api/tkl_system","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_system.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_semaphore | \u4fe1\u53f7\u91cf","permalink":"/zh/docs/tkl-api/tkl_semaphore"},"next":{"title":"tkl_timer | Timer \u9a71\u52a8","permalink":"/zh/docs/tkl-api/tkl_timer"}}');var r=n(74848),t=n(28453);const c={},i="tkl_system | \u7cfb\u7edf\u63a5\u53e3",d={},_=[{value:"\u8bf4\u660e",id:"\u8bf4\u660e",level:2},{value:"API \u63cf\u8ff0",id:"api-\u63cf\u8ff0",level:2},{value:"tkl_system_reset",id:"tkl_system_reset",level:3},{value:"tkl_system_get_tick_count",id:"tkl_system_get_tick_count",level:3},{value:"tkl_system_get_millisecond",id:"tkl_system_get_millisecond",level:3},{value:"tkl_system_get_random",id:"tkl_system_get_random",level:3},{value:"tkl_system_get_reset_reason",id:"tkl_system_get_reset_reason",level:3},{value:"tkl_system_sleep",id:"tkl_system_sleep",level:3},{value:"tkl_system_delay",id:"tkl_system_delay",level:3},{value:"tkl_system_get_cpu_info",id:"tkl_system_get_cpu_info",level:3}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"tkl_system--\u7cfb\u7edf\u63a5\u53e3",children:"tkl_system | \u7cfb\u7edf\u63a5\u53e3"})}),"\n",(0,r.jsx)(s.h2,{id:"\u8bf4\u660e",children:"\u8bf4\u660e"}),"\n",(0,r.jsx)(s.p,{children:"\u7cfb\u7edf\u76f8\u5173\u7684\u529f\u80fd\u63a5\u53e3"}),"\n",(0,r.jsx)(s.h2,{id:"api-\u63cf\u8ff0",children:"API \u63cf\u8ff0"}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_reset",children:"tkl_system_reset"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"void tkl_system_reset(void)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u6267\u884c\u7cfb\u7edf\u91cd\u542f\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5907\u6ce8"}),"\uff1a\u8c03\u7528\u8be5\u51fd\u6570\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u91cd\u542f\u3002"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_get_tick_count",children:"tkl_system_get_tick_count"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"SYS_TICK_T tkl_system_get_tick_count(void)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u83b7\u53d6\u7cfb\u7edf\u7684\u6ef4\u7b54\u8ba1\u6570\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"SYS_TICK_T"}),"\uff1a\u7cfb\u7edf\u6ef4\u7b54\u8ba1\u6570\u7684\u5f53\u524d\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_get_millisecond",children:"tkl_system_get_millisecond"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"SYS_TIME_T tkl_system_get_millisecond(void)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u83b7\u53d6\u4ece\u7cfb\u7edf\u542f\u52a8\u5f00\u59cb\u7684\u6beb\u79d2\u6570\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"SYS_TIME_T"}),"\uff1a\u4ece\u7cfb\u7edf\u542f\u52a8\u5230\u5f53\u524d\u65f6\u523b\u7684\u603b\u6beb\u79d2\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_get_random",children:"tkl_system_get_random"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"int tkl_system_get_random(uint32_t range)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u83b7\u53d6\u4e00\u4e2a\u6307\u5b9a\u8303\u56f4\u5185\u7684\u968f\u673a\u6570\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"range"}),"\uff1a\u968f\u673a\u6570\u7684\u8303\u56f4\uff0c\u4ece ",(0,r.jsx)(s.code,{children:"0"})," \u5230 ",(0,r.jsx)(s.code,{children:"range"}),"\uff08\u4e0d\u5305\u62ec",(0,r.jsx)(s.code,{children:"range"}),"\u672c\u8eab\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"int"}),"\uff1a\u751f\u6210\u7684\u968f\u673a\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5907\u6ce8"}),"\uff1a\u968f\u673a\u6570\u751f\u6210\u5668\u5728\u521d\u6b21\u8c03\u7528\u65f6\u4f1a\u88ab\u521d\u59cb\u5316\u3002"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_get_reset_reason",children:"tkl_system_get_reset_reason"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"TUYA_RESET_REASON_E tkl_system_get_reset_reason(char** describe)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u83b7\u53d6\u7cfb\u7edf\u590d\u4f4d\u7684\u539f\u56e0\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"describe"}),"\uff1a\u6307\u5411\u63cf\u8ff0\u7cfb\u7edf\u590d\u4f4d\u539f\u56e0\u7684\u5b57\u7b26\u4e32\u7684\u6307\u9488\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"TUYA_RESET_REASON_E"}),"\uff1a\u590d\u4f4d\u539f\u56e0\u7684\u679a\u4e3e\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"    typedef enum {\n        TUYA_RESET_REASON_POWERON    = 0,  ///< Poweron reset type, supply voltage < power-on threshold (TY_RST_POWER_OFF)\n        TUYA_RESET_REASON_HW_WDOG    = 1,  ///< Hardware watchdog reset occurred (TY_RST_HARDWARE_WATCHDOG)\n        TUYA_RESET_REASON_FAULT      = 2,  ///< A access fault occurred (TY_RST_FATAL_EXCEPTION)\n        TUYA_RESET_REASON_SW_WDOG    = 3,  ///< Software watchdog reset occurred (TY_RST_SOFTWARE_WATCHDOG)\n        TUYA_RESET_REASON_SOFTWARE   = 4,  ///< Software triggered reset (TY_RST_SOFTWARE)\n        TUYA_RESET_REASON_DEEPSLEEP  = 5,  ///< Reset caused by entering deep sleep (TY_RST_DEEPSLEEP)\n        TUYA_RESET_REASON_EXTERNAL   = 6,  ///< External reset trigger        (TY_RST_HARDWARE)\n        TUYA_RESET_REASON_UNKNOWN    = 7,  ///< Underterminable cause\n        TUYA_RESET_REASON_FIB        = 8,  ///< Reset originated from the FIB bootloader\n        TUYA_RESET_REASON_BOOTLOADER = 8,  ///< Reset relates to an bootloader\n        TUYA_RESET_REASON_CRASH      = 10, ///< Software crash\n        TUYA_RESET_REASON_FLASH      = 11, ///< Flash failure cause reset\n        TUYA_RESET_REASON_FATAL      = 12, ///< A non-recoverable fatal error occurred\n        TUYA_RESET_REASON_BROWNOUT   = 13, ///< Brown out\n        TUYA_RESET_REASON_UNSUPPORT  = 0xFF,\n    } TUYA_RESET_REASON_E;\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5907\u6ce8"}),"\uff1a\u4e0d\u540c\u7684\u590d\u4f4d\u6765\u6e90\u4f1a\u88ab\u6620\u5c04\u5230\u7279\u5b9a\u7684\u679a\u4e3e\u503c\u4e0a\u3002"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_sleep",children:"tkl_system_sleep"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"void tkl_system_sleep(uint32_t num_ms)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u4f7f\u7cfb\u7edf\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u4e00\u5b9a\u65f6\u95f4\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"num_ms"}),"\uff1a\u4f11\u7720\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5907\u6ce8"}),"\uff1a\u8c03\u7528\u6b64\u51fd\u6570\u4f1a\u5bfc\u81f4\u4efb\u52a1\u8c03\u5ea6\u5668\u6682\u505c\u8c03\u7528\u5f53\u524d\u4efb\u52a1\u6307\u5b9a\u7684\u65f6\u95f4\u3002"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_delay",children:"tkl_system_delay"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"void tkl_system_delay(uint32_t num_ms)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u4f7f\u7cfb\u7edf\u5ef6\u65f6\u4e00\u5b9a\u65f6\u95f4\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"num_ms"}),"\uff1a\u5ef6\u65f6\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u65e0"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"tkl_system_get_cpu_info",children:"tkl_system_get_cpu_info"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-c",children:"OPERATE_RET tkl_system_get_cpu_info(TUYA_CPU_INFO_T **cpu_ary, int *cpu_cnt)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u529f\u80fd\u7b80\u4ecb"}),"\uff1a\u83b7\u53d6\u7cfb\u7edfCPU\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u53c2\u6570"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"cpu_ary"}),"\uff1a\u6307\u5411 ",(0,r.jsx)(s.code,{children:"TUYA_CPU_INFO_T"})," \u7c7b\u578b\u6570\u7ec4\u7684\u6307\u9488\uff0c\u7528\u4e8e\u63a5\u6536 CPU \u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"cpu_cnt"}),"\uff1a\u6307\u9488\uff0c\u7528\u4e8e\u63a5\u6536 CPU \u6570\u91cf\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u8fd4\u56de"}),"\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"OPERATE_RET"}),"\uff1a\u64cd\u4f5c\u7ed3\u679c\uff0c",(0,r.jsx)(s.code,{children:"OPRT_OK"})," \u8868\u793a\u6210\u529f\uff0c\u5176\u4ed6\u503c\u8bf7\u53c2\u8003 ",(0,r.jsx)(s.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5907\u6ce8"}),"\uff1a\u8be5\u51fd\u6570\u5728\u5f53\u524d\u5b9e\u73b0\u4e2d\u4e0d\u652f\u6301\uff0c\u8c03\u7528\u5c06\u8fd4\u56de",(0,r.jsx)(s.code,{children:"OPRT_NOT_SUPPORTED"}),"\u3002"]})]})}function o(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);