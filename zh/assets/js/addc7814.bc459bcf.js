"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["2446"],{32286:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>i,toc:()=>_,default:()=>o,metadata:()=>l,assets:()=>d,contentTitle:()=>c});var l=JSON.parse('{"id":"tkl-api/tkl_system","title":"tkl_system | \u7CFB\u7EDF\u63A5\u53E3","description":"\u8BF4\u660E","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_system.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_system","permalink":"/zh/docs/tkl-api/tkl_system","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_system.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_semaphore | \u4FE1\u53F7\u91CF","permalink":"/zh/docs/tkl-api/tkl_semaphore"},"next":{"title":"tkl_timer | Timer \u9A71\u52A8","permalink":"/zh/docs/tkl-api/tkl_timer"}}'),t=n(74848),r=n(84429);let i={},c="tkl_system | \u7CFB\u7EDF\u63A5\u53E3",d={},_=[{value:"\u8BF4\u660E",id:"\u8BF4\u660E",level:2},{value:"API \u63CF\u8FF0",id:"api-\u63CF\u8FF0",level:2},{value:"tkl_system_reset",id:"tkl_system_reset",level:3},{value:"tkl_system_get_tick_count",id:"tkl_system_get_tick_count",level:3},{value:"tkl_system_get_millisecond",id:"tkl_system_get_millisecond",level:3},{value:"tkl_system_get_random",id:"tkl_system_get_random",level:3},{value:"tkl_system_get_reset_reason",id:"tkl_system_get_reset_reason",level:3},{value:"tkl_system_sleep",id:"tkl_system_sleep",level:3},{value:"tkl_system_delay",id:"tkl_system_delay",level:3},{value:"tkl_system_get_cpu_info",id:"tkl_system_get_cpu_info",level:3}];function h(e){let s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"tkl_system--\u7CFB\u7EDF\u63A5\u53E3",children:"tkl_system | \u7CFB\u7EDF\u63A5\u53E3"})}),"\n",(0,t.jsx)(s.h2,{id:"\u8BF4\u660E",children:"\u8BF4\u660E"}),"\n",(0,t.jsx)(s.p,{children:"\u7CFB\u7EDF\u76F8\u5173\u7684\u529F\u80FD\u63A5\u53E3"}),"\n",(0,t.jsx)(s.h2,{id:"api-\u63CF\u8FF0",children:"API \u63CF\u8FF0"}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_reset",children:"tkl_system_reset"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"void tkl_system_reset(void)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u6267\u884C\u7CFB\u7EDF\u91CD\u542F\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u5907\u6CE8"}),"\uFF1A\u8C03\u7528\u8BE5\u51FD\u6570\u4F1A\u5BFC\u81F4\u7CFB\u7EDF\u91CD\u542F\u3002"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_get_tick_count",children:"tkl_system_get_tick_count"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"SYS_TICK_T tkl_system_get_tick_count(void)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u83B7\u53D6\u7CFB\u7EDF\u7684\u6EF4\u7B54\u8BA1\u6570\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"SYS_TICK_T"}),"\uFF1A\u7CFB\u7EDF\u6EF4\u7B54\u8BA1\u6570\u7684\u5F53\u524D\u503C\u3002"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_get_millisecond",children:"tkl_system_get_millisecond"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"SYS_TIME_T tkl_system_get_millisecond(void)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u83B7\u53D6\u4ECE\u7CFB\u7EDF\u542F\u52A8\u5F00\u59CB\u7684\u6BEB\u79D2\u6570\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"SYS_TIME_T"}),"\uFF1A\u4ECE\u7CFB\u7EDF\u542F\u52A8\u5230\u5F53\u524D\u65F6\u523B\u7684\u603B\u6BEB\u79D2\u6570\u3002"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_get_random",children:"tkl_system_get_random"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"int tkl_system_get_random(uint32_t range)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u83B7\u53D6\u4E00\u4E2A\u6307\u5B9A\u8303\u56F4\u5185\u7684\u968F\u673A\u6570\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"range"}),"\uFF1A\u968F\u673A\u6570\u7684\u8303\u56F4\uFF0C\u4ECE ",(0,t.jsx)(s.code,{children:"0"})," \u5230 ",(0,t.jsx)(s.code,{children:"range"}),"\uFF08\u4E0D\u5305\u62EC",(0,t.jsx)(s.code,{children:"range"}),"\u672C\u8EAB\uFF09\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"int"}),"\uFF1A\u751F\u6210\u7684\u968F\u673A\u6570\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u5907\u6CE8"}),"\uFF1A\u968F\u673A\u6570\u751F\u6210\u5668\u5728\u521D\u6B21\u8C03\u7528\u65F6\u4F1A\u88AB\u521D\u59CB\u5316\u3002"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_get_reset_reason",children:"tkl_system_get_reset_reason"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"TUYA_RESET_REASON_E tkl_system_get_reset_reason(char** describe)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u83B7\u53D6\u7CFB\u7EDF\u590D\u4F4D\u7684\u539F\u56E0\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"describe"}),"\uFF1A\u6307\u5411\u63CF\u8FF0\u7CFB\u7EDF\u590D\u4F4D\u539F\u56E0\u7684\u5B57\u7B26\u4E32\u7684\u6307\u9488\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"TUYA_RESET_REASON_E"}),"\uFF1A\u590D\u4F4D\u539F\u56E0\u7684\u679A\u4E3E\u503C\u3002"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"    typedef enum {\n        TUYA_RESET_REASON_POWERON    = 0,  ///< Poweron reset type, supply voltage < power-on threshold (TY_RST_POWER_OFF)\n        TUYA_RESET_REASON_HW_WDOG    = 1,  ///< Hardware watchdog reset occurred (TY_RST_HARDWARE_WATCHDOG)\n        TUYA_RESET_REASON_FAULT      = 2,  ///< A access fault occurred (TY_RST_FATAL_EXCEPTION)\n        TUYA_RESET_REASON_SW_WDOG    = 3,  ///< Software watchdog reset occurred (TY_RST_SOFTWARE_WATCHDOG)\n        TUYA_RESET_REASON_SOFTWARE   = 4,  ///< Software triggered reset (TY_RST_SOFTWARE)\n        TUYA_RESET_REASON_DEEPSLEEP  = 5,  ///< Reset caused by entering deep sleep (TY_RST_DEEPSLEEP)\n        TUYA_RESET_REASON_EXTERNAL   = 6,  ///< External reset trigger        (TY_RST_HARDWARE)\n        TUYA_RESET_REASON_UNKNOWN    = 7,  ///< Underterminable cause\n        TUYA_RESET_REASON_FIB        = 8,  ///< Reset originated from the FIB bootloader\n        TUYA_RESET_REASON_BOOTLOADER = 8,  ///< Reset relates to an bootloader\n        TUYA_RESET_REASON_CRASH      = 10, ///< Software crash\n        TUYA_RESET_REASON_FLASH      = 11, ///< Flash failure cause reset\n        TUYA_RESET_REASON_FATAL      = 12, ///< A non-recoverable fatal error occurred\n        TUYA_RESET_REASON_BROWNOUT   = 13, ///< Brown out\n        TUYA_RESET_REASON_UNSUPPORT  = 0xFF,\n    } TUYA_RESET_REASON_E;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u5907\u6CE8"}),"\uFF1A\u4E0D\u540C\u7684\u590D\u4F4D\u6765\u6E90\u4F1A\u88AB\u6620\u5C04\u5230\u7279\u5B9A\u7684\u679A\u4E3E\u503C\u4E0A\u3002"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_sleep",children:"tkl_system_sleep"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"void tkl_system_sleep(uint32_t num_ms)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u4F7F\u7CFB\u7EDF\u8FDB\u5165\u4F11\u7720\u72B6\u6001\u4E00\u5B9A\u65F6\u95F4\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"num_ms"}),"\uFF1A\u4F11\u7720\u7684\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u5907\u6CE8"}),"\uFF1A\u8C03\u7528\u6B64\u51FD\u6570\u4F1A\u5BFC\u81F4\u4EFB\u52A1\u8C03\u5EA6\u5668\u6682\u505C\u8C03\u7528\u5F53\u524D\u4EFB\u52A1\u6307\u5B9A\u7684\u65F6\u95F4\u3002"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_delay",children:"tkl_system_delay"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"void tkl_system_delay(uint32_t num_ms)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u4F7F\u7CFB\u7EDF\u5EF6\u65F6\u4E00\u5B9A\u65F6\u95F4\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"num_ms"}),"\uFF1A\u5EF6\u65F6\u7684\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u65E0"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"tkl_system_get_cpu_info",children:"tkl_system_get_cpu_info"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c",children:"OPERATE_RET tkl_system_get_cpu_info(TUYA_CPU_INFO_T **cpu_ary, int *cpu_cnt)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u529F\u80FD\u7B80\u4ECB"}),"\uFF1A\u83B7\u53D6\u7CFB\u7EDFCPU\u4FE1\u606F\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u53C2\u6570"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"cpu_ary"}),"\uFF1A\u6307\u5411 ",(0,t.jsx)(s.code,{children:"TUYA_CPU_INFO_T"})," \u7C7B\u578B\u6570\u7EC4\u7684\u6307\u9488\uFF0C\u7528\u4E8E\u63A5\u6536 CPU \u4FE1\u606F\u3002"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"cpu_cnt"}),"\uFF1A\u6307\u9488\uFF0C\u7528\u4E8E\u63A5\u6536 CPU \u6570\u91CF\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u8FD4\u56DE"}),"\uFF1A"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"OPERATE_RET"}),"\uFF1A\u64CD\u4F5C\u7ED3\u679C\uFF0C",(0,t.jsx)(s.code,{children:"OPRT_OK"})," \u8868\u793A\u6210\u529F\uFF0C\u5176\u4ED6\u503C\u8BF7\u53C2\u8003 ",(0,t.jsx)(s.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u5907\u6CE8"}),"\uFF1A\u8BE5\u51FD\u6570\u5728\u5F53\u524D\u5B9E\u73B0\u4E2D\u4E0D\u652F\u6301\uFF0C\u8C03\u7528\u5C06\u8FD4\u56DE",(0,t.jsx)(s.code,{children:"OPRT_NOT_SUPPORTED"}),"\u3002"]})]})}function o(e={}){let{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},84429:function(e,s,n){n.d(s,{R:()=>i,x:()=>c});var l=n(96540);let t={},r=l.createContext(t);function i(e){let s=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),l.createElement(r.Provider,{value:s},e.children)}}}]);