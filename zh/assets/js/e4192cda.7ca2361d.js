"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([[3006],{28453:(e,l,n)=>{n.d(l,{R:()=>d,x:()=>r});var i=n(96540);const t={},s=i.createContext(t);function d(e){const l=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(s.Provider,{value:l},e.children)}},53535:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>_});const i=JSON.parse('{"id":"tkl-api/tkl_gpio","title":"tkl_gipo | GPIO \u9a71\u52a8","description":"\u7b80\u8981\u8bf4\u660e","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_gpio.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_gpio","permalink":"/zh/docs/tkl-api/tkl_gpio","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_gpio.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_flash | Flash \u9a71\u52a8","permalink":"/zh/docs/tkl-api/tkl_flash"},"next":{"title":"tKl_i2c | I2C \u9a71\u52a8","permalink":"/zh/docs/tkl-api/tkl_i2c"}}');var t=n(74848),s=n(28453);const d={},r="tkl_gipo | GPIO \u9a71\u52a8",c={},_=[{value:"\u7b80\u8981\u8bf4\u660e",id:"\u7b80\u8981\u8bf4\u660e",level:2},{value:"GPIO \u6a21\u5f0f",id:"gpio-\u6a21\u5f0f",level:3},{value:"API \u63cf\u8ff0",id:"api-\u63cf\u8ff0",level:2},{value:"tkl_gpio_init",id:"tkl_gpio_init",level:3},{value:"tkl_gpio_deinit",id:"tkl_gpio_deinit",level:3},{value:"tkl_gpio_write",id:"tkl_gpio_write",level:3},{value:"tkl_gpio_read",id:"tkl_gpio_read",level:3},{value:"tkl_gpio_irq_init",id:"tkl_gpio_irq_init",level:3},{value:"tkl_gpio_irq_enable",id:"tkl_gpio_irq_enable",level:3},{value:"tkl_gpio_irq_disable",id:"tkl_gpio_irq_disable",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u793a\u4f8b 1",id:"\u793a\u4f8b-1",level:3},{value:"\u793a\u4f8b 2",id:"\u793a\u4f8b-2",level:3}];function x(e){const l={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.header,{children:(0,t.jsx)(l.h1,{id:"tkl_gipo--gpio-\u9a71\u52a8",children:"tkl_gipo | GPIO \u9a71\u52a8"})}),"\n",(0,t.jsx)(l.h2,{id:"\u7b80\u8981\u8bf4\u660e",children:"\u7b80\u8981\u8bf4\u660e"}),"\n",(0,t.jsx)(l.p,{children:"GPIO\uff08General Purpose I/O Ports\uff09\u662f\u901a\u7528\u8f93\u5165/\u8f93\u51fa\u7aef\u53e3\uff0c\u901a\u4fd7\u5730\u8bf4\uff0c\u5c31\u662f\u4e00\u4e9b\u5f15\u811a\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u4eec\u8f93\u51fa\u9ad8\u4f4e\u7535\u5e73\u6216\u8005\u901a\u8fc7\u5b83\u4eec\u8bfb\u5165\u5f15\u811a\u7684\u72b6\u6001\u662f\u9ad8\u7535\u5e73\u6216\u662f\u4f4e\u7535\u5e73\u3002"}),"\n",(0,t.jsx)(l.h3,{id:"gpio-\u6a21\u5f0f",children:"GPIO \u6a21\u5f0f"}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"\u6a21\u5f0f"}),(0,t.jsx)(l.th,{children:"\u679a\u4e3e"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u4e0a\u62c9\u8f93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PULLUP"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u4e0b\u62c9\u8f93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PULLDOWN"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u9ad8\u963b\u8f93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_HIGH_IMPEDANCE"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u6d6e\u7a7a\u8f93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_FLOATING"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u63a8\u633d\u8f93\u51fa"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PUSH_PULL"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u5f00\u6f0f\u8f93\u51fa"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_OPENDRAIN"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u5f00\u6f0f\u5e26\u4e0a\u62c9\u8f93\u51fa"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_OPENDRAIN_PULLUP"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:"\u4ee5\u4e0a\u6a21\u5f0f\u9700\u8981\u5173\u6ce8\u82af\u7247\u672c\u8eab\u662f\u5426\u652f\u6301\uff0c\u8fd9\u91cc\u53ea\u662f\u6a21\u5f0f\u7684\u6700\u5927\u96c6\u5408\u3002"}),"\n",(0,t.jsx)(l.h2,{id:"api-\u63cf\u8ff0",children:"API \u63cf\u8ff0"}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_init",children:"tkl_gpio_init"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_init(TUYA_GPIO_NUM_E pin_id, const TUYA_GPIO_BASE_CFG_T *cfg);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u529f\u80fd\u63cf\u8ff0\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u521d\u59cb\u5316"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7\uff0c\u6b64\u7f16\u53f7\u533a\u522b\u4e8e\u82af\u7247\u539f\u59cb\u5f15\u811a\u53f7\uff0c\u662f\u7531\u6d82\u9e26\u6839\u636e\u82af\u7247 PA\u3001PB ... PN \u4e0a\u7684\u5f15\u811a\u4e2a\u6570\u987a\u5e8f\u5f80\u4e0b\u7f16\u53f7\u7684\uff1a"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540d\u5b57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5b9a\u4e49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6ce8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_0"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f15\u811a 0"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8d77\u59cb\u7f16\u53f7"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_1"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f15\u811a 1"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_3"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f15\u811a 2"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"..."}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f15\u811a n"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_60"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f15\u811a 60"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u6700\u5927\u7f16\u53f7"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cfg"}),"\uff1aGPIO \u57fa\u7840\u914d\u7f6e\uff0c\u53d6\u503c\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef struct {\n    TUYA_GPIO_MODE_E  mode;\t\t// gpio \u6a21\u5f0f\n    TUYA_GPIO_DRCT_E  direct;\t// gpio \u8f93\u5165\u8f93\u51fa\u65b9\u5411\n    TUYA_GPIO_LEVEL_E level;\t// gpio \u521d\u59cb\u5316\u7535\u5e73\n} TUYA_GPIO_BASE_CFG_T;\n"})}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"mode"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540d\u5b57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5b9a\u4e49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6ce8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PULLUP"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4e0a\u62c9\u8f93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PULLDOWN"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4e0b\u62c9\u8f93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_HIGH_IMPEDANCE"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u9ad8\u963b\u8f93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_FLOATING"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u6d6e\u7a7a\u8f93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PUSH_PULL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u63a8\u633d\u8f93\u51fa"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OPENDRAIN"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f00\u6f0f\u8f93\u51fa"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OPENDRAIN_PULLUP"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5f00\u6f0f\u5e26\u4e0a\u62c9\u8f93\u51fa"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"direct"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540d\u5b57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5b9a\u4e49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6ce8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_INPUT"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8f93\u5165\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OUTPUT"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8f93\u51fa\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"level"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540d\u5b57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5b9a\u4e49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6ce8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_LEVEL_LOW"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4f4e\u7535\u5e73"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_LEVEL_HIGH"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u9ad8\u7535\u5e73"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_deinit",children:"tkl_gpio_deinit"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_deinit(TUYA_GPIO_NUM_E pin_id)\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529f\u80fd\u63cf\u8ff0\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u6062\u590d\u521d\u59cb\u72b6\u6001"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53c2\u6570\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8fd4\u56de\u503c\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_write",children:"tkl_gpio_write"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_write(TUYA_GPIO_NUM_E pin_id, TUYA_GPIO_LEVEL_E level);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529f\u80fd\u63cf\u8ff0\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u8f93\u51fa\u7535\u5e73"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53c2\u6570\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"level"}),"\uff1a GPIO \u8f93\u51fa\u7535\u5e73"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8fd4\u56de\u503c\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_read",children:"tkl_gpio_read"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_read(TUYA_GPIO_NUM_E pin_id, TUYA_GPIO_LEVEL_E *level);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529f\u80fd\u63cf\u8ff0\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u8bfb\u53d6\u7535\u5e73"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53c2\u6570\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"*level"}),"\uff1aGPIO \u8bfb\u53d6\u7535\u5e73\u8fd4\u56de\u503c"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8fd4\u56de\u503c\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_init",children:"tkl_gpio_irq_init"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_init(TUYA_GPIO_NUM_E pin_id, const TUYA_GPIO_IRQ_T *cfg);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u529f\u80fd\u63cf\u8ff0\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4e2d\u65ad\u521d\u59cb"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"*cfg"}),"\uff1a GPIO \u4e2d\u65ad\u914d\u7f6e"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cfg"}),"\uff1aGPIO \u57fa\u7840\u914d\u7f6e\uff0c\u53d6\u503c\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef struct {\n    TUYA_GPIO_IRQ_E      mode;\t// \u4e2d\u65ad\u6a21\u5f0f\n    TUYA_GPIO_IRQ_CB     cb;\t// \u4e2d\u65ad\u56de\u8c03\u51fd\u6570\n    void              *arg;\t// \u56de\u8c03\u51fd\u6570\u53c2\u6570\n} TUYA_GPIO_IRQ_T;\n"})}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"mode"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540d\u5b57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5b9a\u4e49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6ce8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_RISE"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4e0a\u5347\u6cbf\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_FALL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4e0b\u964d\u6cbf\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_RISE_FALL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u53cc\u8fb9\u6cbf\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_LOW"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4f4e\u7535\u5e73\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_HIGH"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u641e\u7535\u5e73\u6a21\u5f0f"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cb"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef void (*TUYA_GPIO_IRQ_CB)(void *args);\n"})}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u8fd4\u56de\u503c\uff1a"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_enable",children:"tkl_gpio_irq_enable"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_enable(TUYA_GPIO_NUM_E pin_id);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529f\u80fd\u63cf\u8ff0\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4e2d\u65ad\u4f7f\u80fd\u51fd\u6570"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53c2\u6570\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8fd4\u56de\u503c\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_disable",children:"tkl_gpio_irq_disable"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_disable(TUYA_GPIO_NUM_E pin_id);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529f\u80fd\u63cf\u8ff0\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4e2d\u65ad\u5931\u80fd\u51fd\u6570"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53c2\u6570\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uff1aGPIO \u5f15\u811a\u7f16\u53f7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8fd4\u56de\u503c\uff1a","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529f"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ed6\u8bf7\u53c2\u8003\u6587\u4ef6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5b9a\u4e49\u90e8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,t.jsx)(l.h3,{id:"\u793a\u4f8b-1",children:"\u793a\u4f8b 1"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"// gpio \u521d\u59cb\u5316\nvoid tuya_gpio_test(void)\n{\n    TUYA_GPIO_BASE_CFG_T cfg = {\n        .mode = TUYA_GPIO_PUSH_PULL,\n        .direct = TUYA_GPIO_OUTPUT,\n        .level = TUYA_GPIO_LEVEL_LOW,\n    };\n\t  tkl_gpio_init(GPIO_NUM_3, &cfg);\n    tkl_gpio_init(GPIO_NUM_4, &cfg);\n\n    // gpio \u8f93\u51fa\n    tkl_gpio_write(GPIO_NUM_3, TUYA_GPIO_LEVEL_HIGH);\n    tkl_gpio_write(GPIO_NUM_4, TUYA_GPIO_LEVEL_HIGH);\n}\n"})}),"\n",(0,t.jsx)(l.h3,{id:"\u793a\u4f8b-2",children:"\u793a\u4f8b 2"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"// \u4e2d\u65ad\u56de\u8c03\u51fd\u6570\nstatic void __gpio_irq_callback7(void *args)\n{\n    //to do\n}\n\nstatic void __gpio_irq_callback8(void *args)\n{\n     //to do\n}\n// gpio \u4e2d\u65ad\u521d\u59cb\nvoid tuya_gpio_irq_test(void)\n{\n    TUYA_GPIO_IRQ_T irq_cfg_7 = {\n        .mode = TUYA_GPIO_IRQ_RISE,\n        .cb = __gpio_irq_callback7,\n        .arg = NULL,\n    };\n    TUYA_GPIO_IRQ_T irq_cfg_8 = {\n        .mode = TUYA_GPIO_IRQ_RISE,\n        .cb = __gpio_irq_callback8,\n        .arg = NULL,\n    };\n    tkl_gpio_irq_init(GPIO_NUM_7, &irq_cfg_7);\n    tkl_gpio_irq_init(GPIO_NUM_8, &irq_cfg_8);\n    tKl_gpio_irq_enable(GPIO_NUM_7);\n    tKl_gpio_irq_enable(GPIO_NUM_8);\n}\n"})})]})}function h(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}}}]);