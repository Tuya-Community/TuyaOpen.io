<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="718px" preserveAspectRatio="none" style="width:756px;height:718px;background:#FFFFFF;" version="1.1" viewBox="0 0 756 718" width="756px" zoomAndPan="magnify"><defs><filter height="300%" id="fgg6zs9qfgrnf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="706.7188" style="stroke:#A80036;stroke-width:1.0;" width="364.5" x="63.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="62" x="214.75" y="18.0669">chat bot</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="88.2969" y2="626.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="99.5" x2="99.5" y1="88.2969" y2="626.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="217.5" x2="217.5" y1="88.2969" y2="626.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="391" x2="391" y1="88.2969" y2="626.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="547.5" x2="547.5" y1="88.2969" y2="626.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="84.9951">user</text><ellipse cx="23.5" cy="15" fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,23 L23.5,50 M10.5,31 L36.5,31 M23.5,50 L10.5,65 M23.5,50 L36.5,65 " fill="none" filter="url(#fgg6zs9qfgrnf)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="638.417">user</text><ellipse cx="23.5" cy="651.7188" fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,659.7188 L23.5,686.7188 M10.5,667.7188 L36.5,667.7188 M23.5,686.7188 L10.5,701.7188 M23.5,686.7188 L36.5,701.7188 " fill="none" filter="url(#fgg6zs9qfgrnf)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="60" x="67.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="74.5" y="72.9951">button</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="60" x="67.5" y="625.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="74.5" y="645.417">button</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="70" x="180.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="187.5" y="72.9951">ai_audio</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="70" x="180.5" y="625.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="187.5" y="645.417">ai_audio</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="359" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="366" y="72.9951">display</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="359" y="625.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="366" y="645.417">display</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="52" x="519.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="526.5" y="72.9951">cloud</text><rect fill="#FEFECE" filter="url(#fgg6zs9qfgrnf)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="52" x="519.5" y="625.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="526.5" y="645.417">cloud</text><polygon fill="#A80036" points="87.5,115.4297,97.5,119.4297,87.5,123.4297,91.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="93.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="30.5" y="114.3638">按下按键</text><line style="stroke:#A80036;stroke-width:1.0;" x1="99.5" x2="141.5" y1="148.5625" y2="148.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="141.5" x2="141.5" y1="148.5625" y2="161.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="100.5" x2="141.5" y1="161.5625" y2="161.5625"/><polygon fill="#A80036" points="110.5,157.5625,100.5,161.5625,110.5,165.5625,106.5,161.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="106.5" y="143.4966">检测到按键被按下</text><polygon fill="#A80036" points="205.5,186.6953,215.5,190.6953,205.5,194.6953,209.5,190.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="99.5" x2="211.5" y1="190.6953" y2="190.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="106.5" y="185.6294">触发单次对话</text><polygon fill="#A80036" points="379.5,215.8281,389.5,219.8281,379.5,223.8281,383.5,219.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="385.5" y1="219.8281" y2="219.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="224.5" y="214.7622">显示 “ 聆听中 ”</text><polygon fill="#A80036" points="205.5,244.9609,215.5,248.9609,205.5,252.9609,209.5,248.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="211.5" y1="248.9609" y2="248.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="30.5" y="243.895">语音输入</text><polygon fill="#A80036" points="535.5,274.0938,545.5,278.0938,535.5,282.0938,539.5,278.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="541.5" y1="278.0938" y2="278.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="224.5" y="273.0278">将语音数据上报到云端</text><polygon fill="#A80036" points="87.5,303.2266,97.5,307.2266,87.5,311.2266,91.5,307.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="93.5" y1="307.2266" y2="307.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="30.5" y="302.1606">松开按键</text><line style="stroke:#A80036;stroke-width:1.0;" x1="99.5" x2="141.5" y1="336.3594" y2="336.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="141.5" x2="141.5" y1="336.3594" y2="349.3594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="100.5" x2="141.5" y1="349.3594" y2="349.3594"/><polygon fill="#A80036" points="110.5,345.3594,100.5,349.3594,110.5,353.3594,106.5,349.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="106.5" y="331.2935">检测到按键被释放</text><polygon fill="#A80036" points="205.5,374.4922,215.5,378.4922,205.5,382.4922,209.5,378.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="99.5" x2="211.5" y1="378.4922" y2="378.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="106.5" y="373.4263">结束语音输入</text><polygon fill="#A80036" points="535.5,403.625,545.5,407.625,535.5,411.625,539.5,407.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="541.5" y1="407.625" y2="407.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="224.5" y="402.5591">结束上报，并告知云端数据上报已完成</text><polygon fill="#A80036" points="228.5,432.7578,218.5,436.7578,228.5,440.7578,224.5,436.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="222.5" x2="546.5" y1="436.7578" y2="436.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="234.5" y="431.6919">将语音转成文本下发</text><line style="stroke:#A80036;stroke-width:1.0;" x1="547.5" x2="589.5" y1="465.8906" y2="465.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="589.5" x2="589.5" y1="465.8906" y2="478.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="548.5" x2="589.5" y1="478.8906" y2="478.8906"/><polygon fill="#A80036" points="558.5,474.8906,548.5,478.8906,558.5,482.8906,554.5,478.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="554.5" y="460.8247">根据语音内容通过大模型生成回答</text><polygon fill="#A80036" points="379.5,504.0234,389.5,508.0234,379.5,512.0234,383.5,508.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="385.5" y1="508.0234" y2="508.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="224.5" y="502.9575">将文本信息显示至屏幕</text><polygon fill="#A80036" points="228.5,533.1563,218.5,537.1563,228.5,541.1563,224.5,537.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="222.5" x2="546.5" y1="537.1563" y2="537.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306" x="234.5" y="532.0903">将 AI 生成的内容（文字，语音，表情等）下发给设备</text><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="259.5" y1="566.2891" y2="566.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="259.5" x2="259.5" y1="566.2891" y2="579.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="218.5" x2="259.5" y1="579.2891" y2="579.2891"/><polygon fill="#A80036" points="228.5,575.2891,218.5,579.2891,228.5,583.2891,224.5,579.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="224.5" y="561.2231">播放语音</text><polygon fill="#A80036" points="379.5,604.4219,389.5,608.4219,379.5,612.4219,383.5,608.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="217.5" x2="385.5" y1="608.4219" y2="608.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="224.5" y="603.356">显示 AI 文本，表情等信息</text><!--MD5=[66fd10c86ef15c0e4d3d83e6f0cae6a7]
@startuml
actor user
box "chat bot"
participant button
participant ai_audio
participant display
end box
user -> button: 按下按键
button -> button:检测到按键被按下
button -> ai_audio:触发单次对话
ai_audio->display:显示 “ 聆听中 ”
user -> ai_audio: 语音输入
ai_audio -> cloud: 将语音数据上报到云端
user -> button:松开按键
button -> button:检测到按键被释放
button->ai_audio: 结束语音输入
ai_audio  -> cloud: 结束上报，并告知云端数据上报已完成
cloud -> ai_audio: 将语音转成文本下发
cloud -> cloud:根据语音内容通过大模型生成回答
ai_audio -> display: 将文本信息显示至屏幕
cloud -> ai_audio: 将 AI 生成的内容（文字，语音，表情等）下发给设备
ai_audio->ai_audio:播放语音
ai_audio->display: 显示 AI 文本，表情等信息
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>